{"version":3,"sources":["../node_modules/classnames/index.js","../node_modules/chessground/drag.js","../node_modules/chess.js/chess.js","../node_modules/chessground/types.js","../node_modules/chessground/fen.js","../node_modules/chessground/draw.js","../node_modules/chessground/anim.js","../node_modules/chessground/config.js","../node_modules/chessground/svg.js","../node_modules/debounce-promise/dist/index.js","../node_modules/react-chessground/es/index.js","../node_modules/react-chessground/es/chessground.js","../node_modules/chessground/chessground.js","../node_modules/chessground/api.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/chessground/premove.js","../node_modules/chessground/explosion.js","../node_modules/chessground/state.js","../node_modules/chessground/wrap.js","../node_modules/chessground/events.js","../node_modules/chessground/drop.js","../node_modules/chessground/render.js","../node_modules/react-contextmenu/es6/helpers.js","../node_modules/react-contextmenu/es6/actions.js","../node_modules/react-contextmenu/es6/globalEventListener.js","../node_modules/react-contextmenu/es6/MenuItem.js","../node_modules/react-contextmenu/es6/AbstractMenu.js","../node_modules/react-contextmenu/es6/SubMenu.js","../node_modules/react-contextmenu/es6/ContextMenu.js","../node_modules/react-contextmenu/es6/ContextMenuTrigger.js","../node_modules/react-contextmenu/es6/connectMenu.js","../node_modules/react-contextmenu/es6/index.js","../node_modules/awesome-only-resolves-last-promise/dist/index.es.js","../node_modules/awesome-imperative-promise/dist/index.es.js","../node_modules/awesome-debounce-promise/dist/index.es.js","../node_modules/chessground/util.js","../node_modules/chessground/board.js","../node_modules/@babel/runtime/helpers/slicedToArray.js"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","undefined","Object","defineProperty","value","computeSquareCenter","cancel","end","move","dragNewPiece","start","board","__webpack_require__","util","draw_1","anim_1","processDrag","s","requestAnimationFrame","_a","cur","draggable","current","animation","plan","anims","has","orig","origPiece","pieces","get","samePiece","piece","started","distanceSq","pos","origPos","Math","pow","distance","element","found","cgDragging","classList","add","bounds","dom","translateAbs","left","width","top","height","newPiece","delete","unselect","removeDragElements","redraw","e","elements","ghost","setVisible","asWhite","key2pos","pieceElementByKey","el","firstChild","cgKey","tagName","nextSibling","button","touches","position","eventPosition","getKeyAtDomPos","whitePov","previouslySelected","selected","drawable","enabled","eraseOnClick","color","turnColor","clear","cancelable","movable","radiusSq","center","pieceCloseTo","preventDefault","hadPremove","premovable","hadPredrop","predroppable","stats","ctrlKey","canMove","anim","state","selectSquare","stillSelected","isDraggable","autoDistance","dragged","originTarget","target","className","concat","role","posToTranslateAbs","unsetPremove","unsetPredrop","force","set","type","eventPos","dest","dropNewPiece","userMove","deleteOnDropOff","callUserFunction","events","change","selectable","Chess","fen","BLACK","WHITE","EMPTY","PAWN","KNIGHT","BISHOP","ROOK","QUEEN","KING","SYMBOLS","DEFAULT_POSITION","POSSIBLE_RESULTS","PAWN_OFFSETS","b","w","PIECE_OFFSETS","n","r","q","k","ATTACKS","RAYS","SHIFTS","p","FLAGS","NORMAL","CAPTURE","BIG_PAWN","EP_CAPTURE","PROMOTION","KSIDE_CASTLE","QSIDE_CASTLE","BITS","RANK_1","RANK_2","RANK_7","RANK_8","SQUARES","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1","ROOKS","square","flag","kings","_turn","castling","ep_square","half_moves","move_number","_history","header","_clear","update_setup","generate_fen","_reset","_load","tokens","split","_validate_fen","valid","charAt","indexOf","parseInt","_put","toLowerCase","algebraic","errors","error_number","error","isNaN","test","rows","sum_fields","previous_was_number","empty","toUpperCase","cflags","epflags","set_header","args","_get","sq","build_move","from","to","flags","promotion","captured","generate_moves","options","add_move","moves","rank","len","us","them","swap_color","second_rank","first_sq","last_sq","single_square","legal","j","offset","castling_to","castling_from","attacked","legal_moves","make_move","king_attacked","undo_move","move_to_san","sloppy","output","disambiguator","ambiguities","same_rank","same_file","ambig_from","ambig_to","ambig_piece","file","get_disambiguator","_in_check","_in_checkmate","stripped_san","replace","difference","index","blocked","_in_stalemate","_insufficient_material","bishops","num_pieces","sq_color","sum","_in_threefold_repetition","positions","repetition","slice","pop","turn","old","move_from_san","clean_move","matches","match","f","substring","c","make_pretty","ugly_move","clone","obj","dupe","property","san","trim","str","keys","load","reset","ugly_moves","verbose","in_check","in_checkmate","in_stalemate","in_draw","insufficient_material","in_threefold_repetition","game_over","validate_fen","pgn","newline","newline_char","max_width","result","header_exists","reversed_history","move_string","Result","current_width","load_pgn","mask","regex","RegExp","header_string","headers","header_obj","parse_pgn_header","ms","rav_regex","half_move","object","has_keys","ascii","_ascii","_move","move_obj","pretty_move","undo","put","remove","_remove","perft","depth","_perft","nodes","square_color","sq_0x88","history","move_history","ranks","files","colors","write","read","initial","util_1","cg","roles","letters","pawn","rook","knight","bishop","queen","king","Map","row","col","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","pos2key","promoted","nb","charCodeAt","err","return","invRanks","map","y","x","letter","toString","processDraw","board_1","brushes","keyAtDomPos","snapToValidMove","mouseSq","getSnappedKeyAtDomPos","redrawNow","eventBrush","modA","shiftKey","isRightButton","modB","altKey","metaKey","getModifierState","onChange","shapes","stopPropagation","cancelMove","brush","defaultSnapToValidMove","sameShape","similar","find","filter","addShape","_slicedToArray","render","mutation","makePiece","prevPieces","curP","preP","vector","animedOrigs","fadings","missings","news","prePieces","_step$value","_p","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","allKeys","_loop","newP","_news","_i","sort","p1","p2","_i2","_missings","includes","computePlan","size","alreadyRunning","performance","now","frequency","duration","step","t","rest","ease","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","values","cfg","destroyed","animate","configure","fen_1","isObject","o","config","dests","merge","base","extend","setCheck","check","lastMove","setSelected","rookCastle","kingStartPos","d","renderSvg","createElement","document","createElementNS","shapeHash","_ref","arrowDests","m","modifiers","pieceHash","lineWidth","scale","renderShape","_ref2","shape","hash","baseUrl","pos2px","name","setAttributes","href","renderPiece","orient","orientation","makeCustomBrush","shorten","arrowMargin","a","dx","dy","angle","atan2","xo","cos","yo","sin","stroke","stroke-width","stroke-linecap","marker-end","opacity","x1","y1","x2","y2","renderArrow","widths","circleWidth","radius","fill","cx","cy","renderCircle","setAttribute","renderMarker","marker","id","markerWidth","markerHeight","refX","refY","appendChild","attrs","round","root","curD","autoShapes","fullHash","sc","prevSvgHash","defsEl","keysInDom","Set","getAttribute","entries","_step3$value","_brush","syncDefs","hashesInDom","toRemove","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","elHash","_toRemove","_el","removeChild","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_sc","syncShapes","fn","wait","lastCallAt","deferred","timer","pendingArgs","currentWait","getWait","currentTime","Date","getTime","isCold","_len","_key","leading","accumulate","Promise","resolve","this","then","clearTimeout","promise","reject","defer","setTimeout","thisDeferred","bind","argsIndex","results","__webpack_exports__","Chessground","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","chessground__WEBPACK_IMPORTED_MODULE_2__","_extends","assign","source","prototype","_defineProperty","enumerable","configurable","writable","_React$Component","subClass","superClass","create","constructor","__proto__","_proto","buildConfigFromProps","props","propTypes","forEach","v","componentDidMount","componentWillReceiveProps","nextProps","componentWillUnmount","destroy","_this","style","ref","Component","oneOfType","string","number","array","coordinates","bool","autoCastle","viewOnly","disableContextMenu","resizable","addPieceZIndex","highlight","func","onMove","onDropNewPiece","onSelect","items","api_1","config_1","state_1","wrap_1","render_1","svg","debounceRedraw","redrawing","defaults","redrawAll","prevUnbind","unbind","relative","visible","renderWrap","memo","getBoundingClientRect","skipSvg","boundsUpdated","updateBounds","bindBoard","bindDocument","insert","drag_1","explosion_1","toggleOrientation","getFen","setPieces","baseMove","baseNewPiece","playPremove","playPredrop","validate","cancelPremove","cancelPredrop","stop","explode","explosion","setAutoShapes","setShapes","event","arr","_arr","_n","_d","_e","_s","TypeError","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr2","iter","premove","diff","abs","xd","yd","canCastle","mobility","rookFiles","backrank","rookFilesOf","allPos","pos2","setStage","stage","exploding","pieceKey","free","showDests","castle","showGhost","dropmode","active","window","green","red","blue","yellow","paleBlue","paleGreen","paleRed","paleGrey","hold","types_1","svg_1","renderCoords","elems","createEl","elem","textContent","innerHTML","toggle","helper","container","orientClass","drag","draw","drop_1","unbindable","eventName","callback","addEventListener","removeEventListener","dragOrDraw","withDrag","withDraw","boardEl","observe","onStart","drop","startDragOrDraw","passive","unbinds","body","onmove","onend","ev","_arr2","_ev","onScroll","capture","cancelDropMode","setDropMode","isPieceNode","isSquareNode","removeNodes","node","posZIndex","z","pieceNameOf","addSquare","squares","klass","appendValue","pieceAtKey","elPieceName","fading","pMvdset","pMvd","sMvdset","sMvd","posToTranslate","posToTranslateRel","translate","translateRel","curAnim","curDrag","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_k2","pDests","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_k3","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_k4","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_k5","computeSquareClasses","samePieces","sameSquares","movedPieces","movedSquares","cgPiece","cgFading","cgAnimating","zIndex","cn","sk","translation","squareNode","insertBefore","_step2$value","_k","_pos","pieceName","pieceNode","_pos2","callIfExists","hasOwnProp","prop","cssClasses","store","canUseDOM","Boolean","MENU_SHOW","MENU_HIDE","dispatchGlobalEvent","opts","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","object_assign_default","showMenu","hideMenu","globalEventListener","GlobalEventListener","instance","Constructor","_classCallCheck","handleShowEvent","callbacks","show","handleHideEvent","hide","register","showCallback","hideCallback","random","unregister","_createClass","defineProperties","descriptor","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","MenuItem_MenuItem","_Component","MenuItem","_temp","MenuItem_classCallCheck","getPrototypeOf","handleClick","disabled","divider","onClick","data","preventClose","setPrototypeOf","_inherits","react","_cx","_this2","_props","children","attributes","menuItemClassNames","classnames_default","disabledClassName","dividerClassName","selectedClassName","react_default","tabIndex","aria-disabled","aria-orientation","onMouseMove","onMouseLeave","onTouchEnd","prop_types_default","defaultProps","es6_MenuItem","AbstractMenu","AbstractMenu_classCallCheck","AbstractMenu_possibleConstructorReturn","AbstractMenu_initialiseProps","seletedItemRef","selectedItem","forceSubMenuOpen","AbstractMenu_inherits","isRequired","handleKeyNavigation","isVisible","keyCode","selectChildren","tryToOpenSubMenu","HTMLElement","click","handleForceClose","setState","getSubMenuType","forward","disabledChildrenCount","disabledChildIndexes","Children","childCollector","child","nextEnabledChildIndex","currentIndex","findNextEnabledChildIndex","onChildMouseMove","onChildMouseLeave","renderChildren","isValidElement","cloneElement","forceOpen","forceClose","parentKeyNavigationHandler","es6_AbstractMenu","SubMenu_extends","SubMenu_createClass","SubMenu_defineProperty","SubMenu_SubMenu","_AbstractMenu","SubMenu","SubMenu_classCallCheck","SubMenu_possibleConstructorReturn","getMenuPosition","_window","innerWidth","innerHeight","rect","subMenu","bottom","right","getRTLMenuPosition","menu","unregisterHandlers","handleMouseEnter","closetimer","opentimer","hoverDelay","handleMouseLeave","menuRef","subMenuRef","registerHandlers","dismounting","SubMenu_inherits","listenId","nextState","isVisibilityChange","styles","rtl","removeProperty","cleanup","title","menuProps","onMouseEnter","listClassName","menuItemProps","visibleClassName","onMouseOut","subMenuProps","transition","aria-haspopup","es6_SubMenu","ContextMenu_createClass","ContextMenu_ContextMenu","ContextMenu","ContextMenu_classCallCheck","ContextMenu_possibleConstructorReturn","handleOutsideClick","handleHide","handleShow","_e$detail$position","onShow","onHide","contains","hideOnLeave","handleContextMenu","menuStyles","_window2","ContextMenu_inherits","wrapper","_state","pointerEvents","inlineStyle","menuClassnames","onContextMenu","es6_ContextMenu","ContextMenuTrigger_createClass","ContextMenuTrigger_possibleConstructorReturn","ContextMenuTrigger_ContextMenuTrigger","ContextMenuTrigger","ContextMenuTrigger_classCallCheck","touchHandled","handleMouseDown","holdToDisplay","persist","mouseDownTimeoutId","handleContextClick","onMouseDown","handleMouseUp","onMouseUp","handleMouseOut","handleTouchstart","touchstartTimeoutId","onTouchStart","handleTouchEnd","disable","disableIfShiftIsPressed","clientX","pageX","clientY","pageY","posX","posY","collect","showMenuConfig","resp","elemRef","ContextMenuTrigger_inherits","renderTag","newAttrs","es6_ContextMenuTrigger","connectMenu_extends","connectMenu_createClass","ignoredTriggerProps","_toConsumableArray","connectMenu","menuId","Child","ConnectMenu","connectMenu_classCallCheck","connectMenu_possibleConstructorReturn","filteredData","trigger","connectMenu_inherits","onlyResolvesLast","asyncFunction","cancelPrevious","promiseArg","_resolve2","_reject2","wrappedPromise","_resolve","_reject","val","reason","createImperativePromise","_assign","DefaultOptions","_args","index_es_DebounceCache","DebounceCache","debounceSingleton","debounceCache","_createDebouncedFunction","debouncedFunc","dist_default","getDebouncedFunction","finalOptions","_Array$prototype","opposite","ret","startAt","time","pos1","posToTranslateBase","xFactor","yFactor","transform","percents","visibility","targetTouches","buttons","premove_1","unset","pd","destPiece","destPos","tryAutoCastle","baseUserMove","holdTime","metadata","after","isPremovable","canPremove","meta","setPremove","isMovable","_b","canDrop","afterNewPiece","predrop","canPredrop","setPredrop","select","success","floor","validSnapPos","validSnapDistances","_validSnapDistances$r","reduce","closestSnapIndex","arrayWithHoles","iterableToArrayLimit","nonIterableRest"],"mappings":"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","file":"static/js/1.bb4b4297.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.computeSquareCenter = exports.cancel = exports.end = exports.move = exports.dragNewPiece = exports.start = void 0;\n\nvar board = require(\"./board\");\n\nvar util = require(\"./util\");\n\nvar draw_1 = require(\"./draw\");\n\nvar anim_1 = require(\"./anim\");\n\nfunction start(s, e) {\n  if (e.button !== undefined && e.button !== 0) return;\n  if (e.touches && e.touches.length > 1) return;\n  var bounds = s.dom.bounds(),\n      position = util.eventPosition(e),\n      orig = board.getKeyAtDomPos(position, board.whitePov(s), bounds);\n  if (!orig) return;\n  var piece = s.pieces.get(orig);\n  var previouslySelected = s.selected;\n  if (!previouslySelected && s.drawable.enabled && (s.drawable.eraseOnClick || !piece || piece.color !== s.turnColor)) draw_1.clear(s);\n  if (e.cancelable !== false && (!e.touches || !s.movable.color || piece || previouslySelected || pieceCloseTo(s, position))) e.preventDefault();\n  var hadPremove = !!s.premovable.current;\n  var hadPredrop = !!s.predroppable.current;\n  s.stats.ctrlKey = e.ctrlKey;\n\n  if (s.selected && board.canMove(s, s.selected, orig)) {\n    anim_1.anim(function (state) {\n      return board.selectSquare(state, orig);\n    }, s);\n  } else {\n    board.selectSquare(s, orig);\n  }\n\n  var stillSelected = s.selected === orig;\n  var element = pieceElementByKey(s, orig);\n\n  if (piece && element && stillSelected && board.isDraggable(s, orig)) {\n    s.draggable.current = {\n      orig: orig,\n      piece: piece,\n      origPos: position,\n      pos: position,\n      started: s.draggable.autoDistance && s.stats.dragged,\n      element: element,\n      previouslySelected: previouslySelected,\n      originTarget: e.target\n    };\n    element.cgDragging = true;\n    element.classList.add('dragging');\n    var ghost = s.dom.elements.ghost;\n\n    if (ghost) {\n      ghost.className = \"ghost \".concat(piece.color, \" \").concat(piece.role);\n      util.translateAbs(ghost, util.posToTranslateAbs(bounds)(util.key2pos(orig), board.whitePov(s)));\n      util.setVisible(ghost, true);\n    }\n\n    processDrag(s);\n  } else {\n    if (hadPremove) board.unsetPremove(s);\n    if (hadPredrop) board.unsetPredrop(s);\n  }\n\n  s.dom.redraw();\n}\n\nexports.start = start;\n\nfunction pieceCloseTo(s, pos) {\n  var asWhite = board.whitePov(s),\n      bounds = s.dom.bounds(),\n      radiusSq = Math.pow(bounds.width / 8, 2);\n\n  for (var key in s.pieces) {\n    var center = computeSquareCenter(key, asWhite, bounds);\n    if (util.distanceSq(center, pos) <= radiusSq) return true;\n  }\n\n  return false;\n}\n\nfunction dragNewPiece(s, piece, e, force) {\n  var key = 'a0';\n  s.pieces.set(key, piece);\n  s.dom.redraw();\n  var position = util.eventPosition(e);\n  s.draggable.current = {\n    orig: key,\n    piece: piece,\n    origPos: position,\n    pos: position,\n    started: true,\n    element: function element() {\n      return pieceElementByKey(s, key);\n    },\n    originTarget: e.target,\n    newPiece: true,\n    force: !!force\n  };\n  processDrag(s);\n}\n\nexports.dragNewPiece = dragNewPiece;\n\nfunction processDrag(s) {\n  requestAnimationFrame(function () {\n    var _a;\n\n    var cur = s.draggable.current;\n    if (!cur) return;\n    if ((_a = s.animation.current) === null || _a === void 0 ? void 0 : _a.plan.anims.has(cur.orig)) s.animation.current = undefined;\n    var origPiece = s.pieces.get(cur.orig);\n    if (!origPiece || !util.samePiece(origPiece, cur.piece)) cancel(s);else {\n      if (!cur.started && util.distanceSq(cur.pos, cur.origPos) >= Math.pow(s.draggable.distance, 2)) cur.started = true;\n\n      if (cur.started) {\n        if (typeof cur.element === 'function') {\n          var found = cur.element();\n          if (!found) return;\n          found.cgDragging = true;\n          found.classList.add('dragging');\n          cur.element = found;\n        }\n\n        var bounds = s.dom.bounds();\n        util.translateAbs(cur.element, [cur.pos[0] - bounds.left - bounds.width / 16, cur.pos[1] - bounds.top - bounds.height / 16]);\n      }\n    }\n    processDrag(s);\n  });\n}\n\nfunction move(s, e) {\n  if (s.draggable.current && (!e.touches || e.touches.length < 2)) {\n    s.draggable.current.pos = util.eventPosition(e);\n  }\n}\n\nexports.move = move;\n\nfunction end(s, e) {\n  var cur = s.draggable.current;\n  if (!cur) return;\n  if (e.type === 'touchend' && e.cancelable !== false) e.preventDefault();\n\n  if (e.type === 'touchend' && cur.originTarget !== e.target && !cur.newPiece) {\n    s.draggable.current = undefined;\n    return;\n  }\n\n  board.unsetPremove(s);\n  board.unsetPredrop(s);\n  var eventPos = util.eventPosition(e) || cur.pos;\n  var dest = board.getKeyAtDomPos(eventPos, board.whitePov(s), s.dom.bounds());\n\n  if (dest && cur.started && cur.orig !== dest) {\n    if (cur.newPiece) board.dropNewPiece(s, cur.orig, dest, cur.force);else {\n      s.stats.ctrlKey = e.ctrlKey;\n      if (board.userMove(s, cur.orig, dest)) s.stats.dragged = true;\n    }\n  } else if (cur.newPiece) {\n    s.pieces.delete(cur.orig);\n  } else if (s.draggable.deleteOnDropOff && !dest) {\n    s.pieces.delete(cur.orig);\n    board.callUserFunction(s.events.change);\n  }\n\n  if (cur.orig === cur.previouslySelected && (cur.orig === dest || !dest)) board.unselect(s);else if (!s.selectable.enabled) board.unselect(s);\n  removeDragElements(s);\n  s.draggable.current = undefined;\n  s.dom.redraw();\n}\n\nexports.end = end;\n\nfunction cancel(s) {\n  var cur = s.draggable.current;\n\n  if (cur) {\n    if (cur.newPiece) s.pieces.delete(cur.orig);\n    s.draggable.current = undefined;\n    board.unselect(s);\n    removeDragElements(s);\n    s.dom.redraw();\n  }\n}\n\nexports.cancel = cancel;\n\nfunction removeDragElements(s) {\n  var e = s.dom.elements;\n  if (e.ghost) util.setVisible(e.ghost, false);\n}\n\nfunction computeSquareCenter(key, asWhite, bounds) {\n  var pos = util.key2pos(key);\n\n  if (!asWhite) {\n    pos[0] = 7 - pos[0];\n    pos[1] = 7 - pos[1];\n  }\n\n  return [bounds.left + bounds.width * pos[0] / 8 + bounds.width / 16, bounds.top + bounds.height * (7 - pos[1]) / 8 + bounds.height / 16];\n}\n\nexports.computeSquareCenter = computeSquareCenter;\n\nfunction pieceElementByKey(s, key) {\n  var el = s.dom.elements.board.firstChild;\n\n  while (el) {\n    if (el.cgKey === key && el.tagName === 'PIECE') return el;\n    el = el.nextSibling;\n  }\n\n  return;\n}","/*\n * Copyright (c) 2016, Jeff Hlywa (jhlywa@gmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n *\n *----------------------------------------------------------------------------*/\n\n/* minified license below  */\n\n/* @license\n * Copyright (c) 2016, Jeff Hlywa (jhlywa@gmail.com)\n * Released under the BSD license\n * https://github.com/jhlywa/chess.js/blob/master/LICENSE\n */\nvar Chess = function Chess(fen) {\n  /* jshint indent: false */\n  var BLACK = 'b';\n  var WHITE = 'w';\n  var EMPTY = -1;\n  var PAWN = 'p';\n  var KNIGHT = 'n';\n  var BISHOP = 'b';\n  var ROOK = 'r';\n  var QUEEN = 'q';\n  var KING = 'k';\n  var SYMBOLS = 'pnbrqkPNBRQK';\n  var DEFAULT_POSITION = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\n  var POSSIBLE_RESULTS = ['1-0', '0-1', '1/2-1/2', '*'];\n  var PAWN_OFFSETS = {\n    b: [16, 32, 17, 15],\n    w: [-16, -32, -17, -15]\n  };\n  var PIECE_OFFSETS = {\n    n: [-18, -33, -31, -14, 18, 33, 31, 14],\n    b: [-17, -15, 17, 15],\n    r: [-16, 1, 16, -1],\n    q: [-17, -16, -15, 1, 17, 16, 15, -1],\n    k: [-17, -16, -15, 1, 17, 16, 15, -1]\n  };\n  var ATTACKS = [20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0, 0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0, 24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0, 0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0, 20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20];\n  var RAYS = [17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0, 0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0, 0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0, -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17];\n  var SHIFTS = {\n    p: 0,\n    n: 1,\n    b: 2,\n    r: 3,\n    q: 4,\n    k: 5\n  };\n  var FLAGS = {\n    NORMAL: 'n',\n    CAPTURE: 'c',\n    BIG_PAWN: 'b',\n    EP_CAPTURE: 'e',\n    PROMOTION: 'p',\n    KSIDE_CASTLE: 'k',\n    QSIDE_CASTLE: 'q'\n  };\n  var BITS = {\n    NORMAL: 1,\n    CAPTURE: 2,\n    BIG_PAWN: 4,\n    EP_CAPTURE: 8,\n    PROMOTION: 16,\n    KSIDE_CASTLE: 32,\n    QSIDE_CASTLE: 64\n  };\n  var RANK_1 = 7;\n  var RANK_2 = 6;\n  var RANK_3 = 5;\n  var RANK_4 = 4;\n  var RANK_5 = 3;\n  var RANK_6 = 2;\n  var RANK_7 = 1;\n  var RANK_8 = 0;\n  var SQUARES = {\n    a8: 0,\n    b8: 1,\n    c8: 2,\n    d8: 3,\n    e8: 4,\n    f8: 5,\n    g8: 6,\n    h8: 7,\n    a7: 16,\n    b7: 17,\n    c7: 18,\n    d7: 19,\n    e7: 20,\n    f7: 21,\n    g7: 22,\n    h7: 23,\n    a6: 32,\n    b6: 33,\n    c6: 34,\n    d6: 35,\n    e6: 36,\n    f6: 37,\n    g6: 38,\n    h6: 39,\n    a5: 48,\n    b5: 49,\n    c5: 50,\n    d5: 51,\n    e5: 52,\n    f5: 53,\n    g5: 54,\n    h5: 55,\n    a4: 64,\n    b4: 65,\n    c4: 66,\n    d4: 67,\n    e4: 68,\n    f4: 69,\n    g4: 70,\n    h4: 71,\n    a3: 80,\n    b3: 81,\n    c3: 82,\n    d3: 83,\n    e3: 84,\n    f3: 85,\n    g3: 86,\n    h3: 87,\n    a2: 96,\n    b2: 97,\n    c2: 98,\n    d2: 99,\n    e2: 100,\n    f2: 101,\n    g2: 102,\n    h2: 103,\n    a1: 112,\n    b1: 113,\n    c1: 114,\n    d1: 115,\n    e1: 116,\n    f1: 117,\n    g1: 118,\n    h1: 119\n  };\n  var ROOKS = {\n    w: [{\n      square: SQUARES.a1,\n      flag: BITS.QSIDE_CASTLE\n    }, {\n      square: SQUARES.h1,\n      flag: BITS.KSIDE_CASTLE\n    }],\n    b: [{\n      square: SQUARES.a8,\n      flag: BITS.QSIDE_CASTLE\n    }, {\n      square: SQUARES.h8,\n      flag: BITS.KSIDE_CASTLE\n    }]\n  };\n  var board = new Array(128);\n  var kings = {\n    w: EMPTY,\n    b: EMPTY\n  };\n  var _turn = WHITE;\n  var castling = {\n    w: 0,\n    b: 0\n  };\n  var ep_square = EMPTY;\n  var half_moves = 0;\n  var move_number = 1;\n  var _history = [];\n  var header = {};\n  /* if the user passes in a fen string, load it, else default to\n   * starting position\n   */\n\n  if (typeof fen === 'undefined') {\n    _load(DEFAULT_POSITION);\n  } else {\n    _load(fen);\n  }\n\n  function _clear() {\n    board = new Array(128);\n    kings = {\n      w: EMPTY,\n      b: EMPTY\n    };\n    _turn = WHITE;\n    castling = {\n      w: 0,\n      b: 0\n    };\n    ep_square = EMPTY;\n    half_moves = 0;\n    move_number = 1;\n    _history = [];\n    header = {};\n    update_setup(generate_fen());\n  }\n\n  function _reset() {\n    _load(DEFAULT_POSITION);\n  }\n\n  function _load(fen) {\n    var tokens = fen.split(/\\s+/);\n    var position = tokens[0];\n    var square = 0;\n\n    if (!_validate_fen(fen).valid) {\n      return false;\n    }\n\n    _clear();\n\n    for (var i = 0; i < position.length; i++) {\n      var piece = position.charAt(i);\n\n      if (piece === '/') {\n        square += 8;\n      } else if (is_digit(piece)) {\n        square += parseInt(piece, 10);\n      } else {\n        var color = piece < 'a' ? WHITE : BLACK;\n\n        _put({\n          type: piece.toLowerCase(),\n          color: color\n        }, algebraic(square));\n\n        square++;\n      }\n    }\n\n    _turn = tokens[1];\n\n    if (tokens[2].indexOf('K') > -1) {\n      castling.w |= BITS.KSIDE_CASTLE;\n    }\n\n    if (tokens[2].indexOf('Q') > -1) {\n      castling.w |= BITS.QSIDE_CASTLE;\n    }\n\n    if (tokens[2].indexOf('k') > -1) {\n      castling.b |= BITS.KSIDE_CASTLE;\n    }\n\n    if (tokens[2].indexOf('q') > -1) {\n      castling.b |= BITS.QSIDE_CASTLE;\n    }\n\n    ep_square = tokens[3] === '-' ? EMPTY : SQUARES[tokens[3]];\n    half_moves = parseInt(tokens[4], 10);\n    move_number = parseInt(tokens[5], 10);\n    update_setup(generate_fen());\n    return true;\n  }\n  /* TODO: this function is pretty much crap - it validates structure but\n   * completely ignores content (e.g. doesn't verify that each side has a king)\n   * ... we should rewrite this, and ditch the silly error_number field while\n   * we're at it\n   */\n\n\n  function _validate_fen(fen) {\n    var errors = {\n      0: 'No errors.',\n      1: 'FEN string must contain six space-delimited fields.',\n      2: '6th field (move number) must be a positive integer.',\n      3: '5th field (half move counter) must be a non-negative integer.',\n      4: '4th field (en-passant square) is invalid.',\n      5: '3rd field (castling availability) is invalid.',\n      6: '2nd field (side to move) is invalid.',\n      7: '1st field (piece positions) does not contain 8 \\'/\\'-delimited rows.',\n      8: '1st field (piece positions) is invalid [consecutive numbers].',\n      9: '1st field (piece positions) is invalid [invalid piece].',\n      10: '1st field (piece positions) is invalid [row too large].',\n      11: 'Illegal en-passant square'\n    };\n    /* 1st criterion: 6 space-seperated fields? */\n\n    var tokens = fen.split(/\\s+/);\n\n    if (tokens.length !== 6) {\n      return {\n        valid: false,\n        error_number: 1,\n        error: errors[1]\n      };\n    }\n    /* 2nd criterion: move number field is a integer value > 0? */\n\n\n    if (isNaN(tokens[5]) || parseInt(tokens[5], 10) <= 0) {\n      return {\n        valid: false,\n        error_number: 2,\n        error: errors[2]\n      };\n    }\n    /* 3rd criterion: half move counter is an integer >= 0? */\n\n\n    if (isNaN(tokens[4]) || parseInt(tokens[4], 10) < 0) {\n      return {\n        valid: false,\n        error_number: 3,\n        error: errors[3]\n      };\n    }\n    /* 4th criterion: 4th field is a valid e.p.-string? */\n\n\n    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {\n      return {\n        valid: false,\n        error_number: 4,\n        error: errors[4]\n      };\n    }\n    /* 5th criterion: 3th field is a valid castle-string? */\n\n\n    if (!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(tokens[2])) {\n      return {\n        valid: false,\n        error_number: 5,\n        error: errors[5]\n      };\n    }\n    /* 6th criterion: 2nd field is \"w\" (white) or \"b\" (black)? */\n\n\n    if (!/^(w|b)$/.test(tokens[1])) {\n      return {\n        valid: false,\n        error_number: 6,\n        error: errors[6]\n      };\n    }\n    /* 7th criterion: 1st field contains 8 rows? */\n\n\n    var rows = tokens[0].split('/');\n\n    if (rows.length !== 8) {\n      return {\n        valid: false,\n        error_number: 7,\n        error: errors[7]\n      };\n    }\n    /* 8th criterion: every row is valid? */\n\n\n    for (var i = 0; i < rows.length; i++) {\n      /* check for right sum of fields AND not two numbers in succession */\n      var sum_fields = 0;\n      var previous_was_number = false;\n\n      for (var k = 0; k < rows[i].length; k++) {\n        if (!isNaN(rows[i][k])) {\n          if (previous_was_number) {\n            return {\n              valid: false,\n              error_number: 8,\n              error: errors[8]\n            };\n          }\n\n          sum_fields += parseInt(rows[i][k], 10);\n          previous_was_number = true;\n        } else {\n          if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {\n            return {\n              valid: false,\n              error_number: 9,\n              error: errors[9]\n            };\n          }\n\n          sum_fields += 1;\n          previous_was_number = false;\n        }\n      }\n\n      if (sum_fields !== 8) {\n        return {\n          valid: false,\n          error_number: 10,\n          error: errors[10]\n        };\n      }\n    }\n\n    if (tokens[3][1] == '3' && tokens[1] == 'w' || tokens[3][1] == '6' && tokens[1] == 'b') {\n      return {\n        valid: false,\n        error_number: 11,\n        error: errors[11]\n      };\n    }\n    /* everything's okay! */\n\n\n    return {\n      valid: true,\n      error_number: 0,\n      error: errors[0]\n    };\n  }\n\n  function generate_fen() {\n    var empty = 0;\n    var fen = '';\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      if (board[i] == null) {\n        empty++;\n      } else {\n        if (empty > 0) {\n          fen += empty;\n          empty = 0;\n        }\n\n        var color = board[i].color;\n        var piece = board[i].type;\n        fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n      }\n\n      if (i + 1 & 0x88) {\n        if (empty > 0) {\n          fen += empty;\n        }\n\n        if (i !== SQUARES.h1) {\n          fen += '/';\n        }\n\n        empty = 0;\n        i += 8;\n      }\n    }\n\n    var cflags = '';\n\n    if (castling[WHITE] & BITS.KSIDE_CASTLE) {\n      cflags += 'K';\n    }\n\n    if (castling[WHITE] & BITS.QSIDE_CASTLE) {\n      cflags += 'Q';\n    }\n\n    if (castling[BLACK] & BITS.KSIDE_CASTLE) {\n      cflags += 'k';\n    }\n\n    if (castling[BLACK] & BITS.QSIDE_CASTLE) {\n      cflags += 'q';\n    }\n    /* do we have an empty castling flag? */\n\n\n    cflags = cflags || '-';\n    var epflags = ep_square === EMPTY ? '-' : algebraic(ep_square);\n    return [fen, _turn, cflags, epflags, half_moves, move_number].join(' ');\n  }\n\n  function set_header(args) {\n    for (var i = 0; i < args.length; i += 2) {\n      if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {\n        header[args[i]] = args[i + 1];\n      }\n    }\n\n    return header;\n  }\n  /* called when the initial board setup is changed with put() or remove().\n   * modifies the SetUp and FEN properties of the header object.  if the FEN is\n   * equal to the default position, the SetUp and FEN are deleted\n   * the setup is only updated if history.length is zero, ie moves haven't been\n   * made.\n   */\n\n\n  function update_setup(fen) {\n    if (_history.length > 0) return;\n\n    if (fen !== DEFAULT_POSITION) {\n      header['SetUp'] = '1';\n      header['FEN'] = fen;\n    } else {\n      delete header['SetUp'];\n      delete header['FEN'];\n    }\n  }\n\n  function _get(square) {\n    var piece = board[SQUARES[square]];\n    return piece ? {\n      type: piece.type,\n      color: piece.color\n    } : null;\n  }\n\n  function _put(piece, square) {\n    /* check for valid piece object */\n    if (!('type' in piece && 'color' in piece)) {\n      return false;\n    }\n    /* check for piece */\n\n\n    if (SYMBOLS.indexOf(piece.type.toLowerCase()) === -1) {\n      return false;\n    }\n    /* check for valid square */\n\n\n    if (!(square in SQUARES)) {\n      return false;\n    }\n\n    var sq = SQUARES[square];\n    /* don't let the user place more than one king */\n\n    if (piece.type == KING && !(kings[piece.color] == EMPTY || kings[piece.color] == sq)) {\n      return false;\n    }\n\n    board[sq] = {\n      type: piece.type,\n      color: piece.color\n    };\n\n    if (piece.type === KING) {\n      kings[piece.color] = sq;\n    }\n\n    update_setup(generate_fen());\n    return true;\n  }\n\n  function _remove(square) {\n    var piece = _get(square);\n\n    board[SQUARES[square]] = null;\n\n    if (piece && piece.type === KING) {\n      kings[piece.color] = EMPTY;\n    }\n\n    update_setup(generate_fen());\n    return piece;\n  }\n\n  function build_move(board, from, to, flags, promotion) {\n    var move = {\n      color: _turn,\n      from: from,\n      to: to,\n      flags: flags,\n      piece: board[from].type\n    };\n\n    if (promotion) {\n      move.flags |= BITS.PROMOTION;\n      move.promotion = promotion;\n    }\n\n    if (board[to]) {\n      move.captured = board[to].type;\n    } else if (flags & BITS.EP_CAPTURE) {\n      move.captured = PAWN;\n    }\n\n    return move;\n  }\n\n  function generate_moves(options) {\n    function add_move(board, moves, from, to, flags) {\n      /* if pawn promotion */\n      if (board[from].type === PAWN && (rank(to) === RANK_8 || rank(to) === RANK_1)) {\n        var pieces = [QUEEN, ROOK, BISHOP, KNIGHT];\n\n        for (var i = 0, len = pieces.length; i < len; i++) {\n          moves.push(build_move(board, from, to, flags, pieces[i]));\n        }\n      } else {\n        moves.push(build_move(board, from, to, flags));\n      }\n    }\n\n    var moves = [];\n    var us = _turn;\n    var them = swap_color(us);\n    var second_rank = {\n      b: RANK_7,\n      w: RANK_2\n    };\n    var first_sq = SQUARES.a8;\n    var last_sq = SQUARES.h1;\n    var single_square = false;\n    /* do we want legal moves? */\n\n    var legal = typeof options !== 'undefined' && 'legal' in options ? options.legal : true;\n    /* are we generating moves for a single square? */\n\n    if (typeof options !== 'undefined' && 'square' in options) {\n      if (options.square in SQUARES) {\n        first_sq = last_sq = SQUARES[options.square];\n        single_square = true;\n      } else {\n        /* invalid square */\n        return [];\n      }\n    }\n\n    for (var i = first_sq; i <= last_sq; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n\n      var piece = board[i];\n\n      if (piece == null || piece.color !== us) {\n        continue;\n      }\n\n      if (piece.type === PAWN) {\n        /* single square, non-capturing */\n        var square = i + PAWN_OFFSETS[us][0];\n\n        if (board[square] == null) {\n          add_move(board, moves, i, square, BITS.NORMAL);\n          /* double square */\n\n          var square = i + PAWN_OFFSETS[us][1];\n\n          if (second_rank[us] === rank(i) && board[square] == null) {\n            add_move(board, moves, i, square, BITS.BIG_PAWN);\n          }\n        }\n        /* pawn captures */\n\n\n        for (j = 2; j < 4; j++) {\n          var square = i + PAWN_OFFSETS[us][j];\n          if (square & 0x88) continue;\n\n          if (board[square] != null && board[square].color === them) {\n            add_move(board, moves, i, square, BITS.CAPTURE);\n          } else if (square === ep_square) {\n            add_move(board, moves, i, ep_square, BITS.EP_CAPTURE);\n          }\n        }\n      } else {\n        for (var j = 0, len = PIECE_OFFSETS[piece.type].length; j < len; j++) {\n          var offset = PIECE_OFFSETS[piece.type][j];\n          var square = i;\n\n          while (true) {\n            square += offset;\n            if (square & 0x88) break;\n\n            if (board[square] == null) {\n              add_move(board, moves, i, square, BITS.NORMAL);\n            } else {\n              if (board[square].color === us) break;\n              add_move(board, moves, i, square, BITS.CAPTURE);\n              break;\n            }\n            /* break, if knight or king */\n\n\n            if (piece.type === 'n' || piece.type === 'k') break;\n          }\n        }\n      }\n    }\n    /* check for castling if: a) we're generating all moves, or b) we're doing\n     * single square move generation on the king's square\n     */\n\n\n    if (!single_square || last_sq === kings[us]) {\n      /* king-side castling */\n      if (castling[us] & BITS.KSIDE_CASTLE) {\n        var castling_from = kings[us];\n        var castling_to = castling_from + 2;\n\n        if (board[castling_from + 1] == null && board[castling_to] == null && !attacked(them, kings[us]) && !attacked(them, castling_from + 1) && !attacked(them, castling_to)) {\n          add_move(board, moves, kings[us], castling_to, BITS.KSIDE_CASTLE);\n        }\n      }\n      /* queen-side castling */\n\n\n      if (castling[us] & BITS.QSIDE_CASTLE) {\n        var castling_from = kings[us];\n        var castling_to = castling_from - 2;\n\n        if (board[castling_from - 1] == null && board[castling_from - 2] == null && board[castling_from - 3] == null && !attacked(them, kings[us]) && !attacked(them, castling_from - 1) && !attacked(them, castling_to)) {\n          add_move(board, moves, kings[us], castling_to, BITS.QSIDE_CASTLE);\n        }\n      }\n    }\n    /* return all pseudo-legal moves (this includes moves that allow the king\n     * to be captured)\n     */\n\n\n    if (!legal) {\n      return moves;\n    }\n    /* filter out illegal moves */\n\n\n    var legal_moves = [];\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i]);\n\n      if (!king_attacked(us)) {\n        legal_moves.push(moves[i]);\n      }\n\n      undo_move();\n    }\n\n    return legal_moves;\n  }\n  /* convert a move from 0x88 coordinates to Standard Algebraic Notation\n   * (SAN)\n   *\n   * @param {boolean} sloppy Use the sloppy SAN generator to work around over\n   * disambiguation bugs in Fritz and Chessbase.  See below:\n   *\n   * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4\n   * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned\n   * 4. ... Ne7 is technically the valid SAN\n   */\n\n\n  function move_to_san(move, sloppy) {\n    var output = '';\n\n    if (move.flags & BITS.KSIDE_CASTLE) {\n      output = 'O-O';\n    } else if (move.flags & BITS.QSIDE_CASTLE) {\n      output = 'O-O-O';\n    } else {\n      var disambiguator = get_disambiguator(move, sloppy);\n\n      if (move.piece !== PAWN) {\n        output += move.piece.toUpperCase() + disambiguator;\n      }\n\n      if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n        if (move.piece === PAWN) {\n          output += algebraic(move.from)[0];\n        }\n\n        output += 'x';\n      }\n\n      output += algebraic(move.to);\n\n      if (move.flags & BITS.PROMOTION) {\n        output += '=' + move.promotion.toUpperCase();\n      }\n    }\n\n    make_move(move);\n\n    if (_in_check()) {\n      if (_in_checkmate()) {\n        output += '#';\n      } else {\n        output += '+';\n      }\n    }\n\n    undo_move();\n    return output;\n  } // parses all of the decorators out of a SAN string\n\n\n  function stripped_san(move) {\n    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '');\n  }\n\n  function attacked(color, square) {\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n      /* if empty square or wrong color */\n\n\n      if (board[i] == null || board[i].color !== color) continue;\n      var piece = board[i];\n      var difference = i - square;\n      var index = difference + 119;\n\n      if (ATTACKS[index] & 1 << SHIFTS[piece.type]) {\n        if (piece.type === PAWN) {\n          if (difference > 0) {\n            if (piece.color === WHITE) return true;\n          } else {\n            if (piece.color === BLACK) return true;\n          }\n\n          continue;\n        }\n        /* if the piece is a knight or a king */\n\n\n        if (piece.type === 'n' || piece.type === 'k') return true;\n        var offset = RAYS[index];\n        var j = i + offset;\n        var blocked = false;\n\n        while (j !== square) {\n          if (board[j] != null) {\n            blocked = true;\n            break;\n          }\n\n          j += offset;\n        }\n\n        if (!blocked) return true;\n      }\n    }\n\n    return false;\n  }\n\n  function king_attacked(color) {\n    return attacked(swap_color(color), kings[color]);\n  }\n\n  function _in_check() {\n    return king_attacked(_turn);\n  }\n\n  function _in_checkmate() {\n    return _in_check() && generate_moves().length === 0;\n  }\n\n  function _in_stalemate() {\n    return !_in_check() && generate_moves().length === 0;\n  }\n\n  function _insufficient_material() {\n    var pieces = {};\n    var bishops = [];\n    var num_pieces = 0;\n    var sq_color = 0;\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      sq_color = (sq_color + 1) % 2;\n\n      if (i & 0x88) {\n        i += 7;\n        continue;\n      }\n\n      var piece = board[i];\n\n      if (piece) {\n        pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1;\n\n        if (piece.type === BISHOP) {\n          bishops.push(sq_color);\n        }\n\n        num_pieces++;\n      }\n    }\n    /* k vs. k */\n\n\n    if (num_pieces === 2) {\n      return true;\n    }\n    /* k vs. kn .... or .... k vs. kb */\n    else if (num_pieces === 3 && (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)) {\n        return true;\n      }\n      /* kb vs. kb where any number of bishops are all on the same color */\n      else if (num_pieces === pieces[BISHOP] + 2) {\n          var sum = 0;\n          var len = bishops.length;\n\n          for (var i = 0; i < len; i++) {\n            sum += bishops[i];\n          }\n\n          if (sum === 0 || sum === len) {\n            return true;\n          }\n        }\n\n    return false;\n  }\n\n  function _in_threefold_repetition() {\n    /* TODO: while this function is fine for casual use, a better\n     * implementation would use a Zobrist key (instead of FEN). the\n     * Zobrist key would be maintained in the make_move/undo_move functions,\n     * avoiding the costly that we do below.\n     */\n    var moves = [];\n    var positions = {};\n    var repetition = false;\n\n    while (true) {\n      var move = undo_move();\n      if (!move) break;\n      moves.push(move);\n    }\n\n    while (true) {\n      /* remove the last two fields in the FEN string, they're not needed\n       * when checking for draw by rep */\n      var fen = generate_fen().split(' ').slice(0, 4).join(' ');\n      /* has the position occurred three or move times */\n\n      positions[fen] = fen in positions ? positions[fen] + 1 : 1;\n\n      if (positions[fen] >= 3) {\n        repetition = true;\n      }\n\n      if (!moves.length) {\n        break;\n      }\n\n      make_move(moves.pop());\n    }\n\n    return repetition;\n  }\n\n  function push(move) {\n    _history.push({\n      move: move,\n      kings: {\n        b: kings.b,\n        w: kings.w\n      },\n      turn: _turn,\n      castling: {\n        b: castling.b,\n        w: castling.w\n      },\n      ep_square: ep_square,\n      half_moves: half_moves,\n      move_number: move_number\n    });\n  }\n\n  function make_move(move) {\n    var us = _turn;\n    var them = swap_color(us);\n    push(move);\n    board[move.to] = board[move.from];\n    board[move.from] = null;\n    /* if ep capture, remove the captured pawn */\n\n    if (move.flags & BITS.EP_CAPTURE) {\n      if (_turn === BLACK) {\n        board[move.to - 16] = null;\n      } else {\n        board[move.to + 16] = null;\n      }\n    }\n    /* if pawn promotion, replace with new piece */\n\n\n    if (move.flags & BITS.PROMOTION) {\n      board[move.to] = {\n        type: move.promotion,\n        color: us\n      };\n    }\n    /* if we moved the king */\n\n\n    if (board[move.to].type === KING) {\n      kings[board[move.to].color] = move.to;\n      /* if we castled, move the rook next to the king */\n\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        var castling_to = move.to - 1;\n        var castling_from = move.to + 1;\n        board[castling_to] = board[castling_from];\n        board[castling_from] = null;\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        var castling_to = move.to + 1;\n        var castling_from = move.to - 2;\n        board[castling_to] = board[castling_from];\n        board[castling_from] = null;\n      }\n      /* turn off castling */\n\n\n      castling[us] = '';\n    }\n    /* turn off castling if we move a rook */\n\n\n    if (castling[us]) {\n      for (var i = 0, len = ROOKS[us].length; i < len; i++) {\n        if (move.from === ROOKS[us][i].square && castling[us] & ROOKS[us][i].flag) {\n          castling[us] ^= ROOKS[us][i].flag;\n          break;\n        }\n      }\n    }\n    /* turn off castling if we capture a rook */\n\n\n    if (castling[them]) {\n      for (var i = 0, len = ROOKS[them].length; i < len; i++) {\n        if (move.to === ROOKS[them][i].square && castling[them] & ROOKS[them][i].flag) {\n          castling[them] ^= ROOKS[them][i].flag;\n          break;\n        }\n      }\n    }\n    /* if big pawn move, update the en passant square */\n\n\n    if (move.flags & BITS.BIG_PAWN) {\n      if (_turn === 'b') {\n        ep_square = move.to - 16;\n      } else {\n        ep_square = move.to + 16;\n      }\n    } else {\n      ep_square = EMPTY;\n    }\n    /* reset the 50 move counter if a pawn is moved or a piece is captured */\n\n\n    if (move.piece === PAWN) {\n      half_moves = 0;\n    } else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n      half_moves = 0;\n    } else {\n      half_moves++;\n    }\n\n    if (_turn === BLACK) {\n      move_number++;\n    }\n\n    _turn = swap_color(_turn);\n  }\n\n  function undo_move() {\n    var old = _history.pop();\n\n    if (old == null) {\n      return null;\n    }\n\n    var move = old.move;\n    kings = old.kings;\n    _turn = old.turn;\n    castling = old.castling;\n    ep_square = old.ep_square;\n    half_moves = old.half_moves;\n    move_number = old.move_number;\n    var us = _turn;\n    var them = swap_color(_turn);\n    board[move.from] = board[move.to];\n    board[move.from].type = move.piece; // to undo any promotions\n\n    board[move.to] = null;\n\n    if (move.flags & BITS.CAPTURE) {\n      board[move.to] = {\n        type: move.captured,\n        color: them\n      };\n    } else if (move.flags & BITS.EP_CAPTURE) {\n      var index;\n\n      if (us === BLACK) {\n        index = move.to - 16;\n      } else {\n        index = move.to + 16;\n      }\n\n      board[index] = {\n        type: PAWN,\n        color: them\n      };\n    }\n\n    if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {\n      var castling_to, castling_from;\n\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        castling_to = move.to + 1;\n        castling_from = move.to - 1;\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        castling_to = move.to - 2;\n        castling_from = move.to + 1;\n      }\n\n      board[castling_to] = board[castling_from];\n      board[castling_from] = null;\n    }\n\n    return move;\n  }\n  /* this function is used to uniquely identify ambiguous moves */\n\n\n  function get_disambiguator(move, sloppy) {\n    var moves = generate_moves({\n      legal: !sloppy\n    });\n    var from = move.from;\n    var to = move.to;\n    var piece = move.piece;\n    var ambiguities = 0;\n    var same_rank = 0;\n    var same_file = 0;\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      var ambig_from = moves[i].from;\n      var ambig_to = moves[i].to;\n      var ambig_piece = moves[i].piece;\n      /* if a move of the same piece type ends on the same to square, we'll\n       * need to add a disambiguator to the algebraic notation\n       */\n\n      if (piece === ambig_piece && from !== ambig_from && to === ambig_to) {\n        ambiguities++;\n\n        if (rank(from) === rank(ambig_from)) {\n          same_rank++;\n        }\n\n        if (file(from) === file(ambig_from)) {\n          same_file++;\n        }\n      }\n    }\n\n    if (ambiguities > 0) {\n      /* if there exists a similar moving piece on the same rank and file as\n       * the move in question, use the square as the disambiguator\n       */\n      if (same_rank > 0 && same_file > 0) {\n        return algebraic(from);\n      }\n      /* if the moving piece rests on the same file, use the rank symbol as the\n       * disambiguator\n       */\n      else if (same_file > 0) {\n          return algebraic(from).charAt(1);\n        }\n        /* else use the file symbol */\n        else {\n            return algebraic(from).charAt(0);\n          }\n    }\n\n    return '';\n  }\n\n  function _ascii() {\n    var s = '   +------------------------+\\n';\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* display the rank */\n      if (file(i) === 0) {\n        s += ' ' + '87654321'[rank(i)] + ' |';\n      }\n      /* empty piece */\n\n\n      if (board[i] == null) {\n        s += ' . ';\n      } else {\n        var piece = board[i].type;\n        var color = board[i].color;\n        var symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n        s += ' ' + symbol + ' ';\n      }\n\n      if (i + 1 & 0x88) {\n        s += '|\\n';\n        i += 8;\n      }\n    }\n\n    s += '   +------------------------+\\n';\n    s += '     a  b  c  d  e  f  g  h\\n';\n    return s;\n  } // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates\n\n\n  function move_from_san(move, sloppy) {\n    // strip off any move decorations: e.g Nf3+?!\n    var clean_move = stripped_san(move); // if we're using the sloppy parser run a regex to grab piece, to, and from\n    // this should parse invalid SAN like: Pe2-e4, Rc1c4, Qf3xf7\n\n    if (sloppy) {\n      var matches = clean_move.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);\n\n      if (matches) {\n        var piece = matches[1];\n        var from = matches[2];\n        var to = matches[3];\n        var promotion = matches[4];\n      }\n    }\n\n    var moves = generate_moves();\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      // try the strict parser first, then the sloppy parser if requested\n      // by the user\n      if (clean_move === stripped_san(move_to_san(moves[i])) || sloppy && clean_move === stripped_san(move_to_san(moves[i], true))) {\n        return moves[i];\n      } else {\n        if (matches && (!piece || piece.toLowerCase() == moves[i].piece) && SQUARES[from] == moves[i].from && SQUARES[to] == moves[i].to && (!promotion || promotion.toLowerCase() == moves[i].promotion)) {\n          return moves[i];\n        }\n      }\n    }\n\n    return null;\n  }\n  /*****************************************************************************\n   * UTILITY FUNCTIONS\n   ****************************************************************************/\n\n\n  function rank(i) {\n    return i >> 4;\n  }\n\n  function file(i) {\n    return i & 15;\n  }\n\n  function algebraic(i) {\n    var f = file(i),\n        r = rank(i);\n    return 'abcdefgh'.substring(f, f + 1) + '87654321'.substring(r, r + 1);\n  }\n\n  function swap_color(c) {\n    return c === WHITE ? BLACK : WHITE;\n  }\n\n  function is_digit(c) {\n    return '0123456789'.indexOf(c) !== -1;\n  }\n  /* pretty = external move object */\n\n\n  function make_pretty(ugly_move) {\n    var move = clone(ugly_move);\n    move.san = move_to_san(move, false);\n    move.to = algebraic(move.to);\n    move.from = algebraic(move.from);\n    var flags = '';\n\n    for (var flag in BITS) {\n      if (BITS[flag] & move.flags) {\n        flags += FLAGS[flag];\n      }\n    }\n\n    move.flags = flags;\n    return move;\n  }\n\n  function clone(obj) {\n    var dupe = obj instanceof Array ? [] : {};\n\n    for (var property in obj) {\n      if (typeof property === 'object') {\n        dupe[property] = clone(obj[property]);\n      } else {\n        dupe[property] = obj[property];\n      }\n    }\n\n    return dupe;\n  }\n\n  function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n  /*****************************************************************************\n   * DEBUGGING UTILITIES\n   ****************************************************************************/\n\n\n  function _perft(depth) {\n    var moves = generate_moves({\n      legal: false\n    });\n    var nodes = 0;\n    var color = _turn;\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i]);\n\n      if (!king_attacked(color)) {\n        if (depth - 1 > 0) {\n          var child_nodes = _perft(depth - 1);\n\n          nodes += child_nodes;\n        } else {\n          nodes++;\n        }\n      }\n\n      undo_move();\n    }\n\n    return nodes;\n  }\n\n  return {\n    /***************************************************************************\n     * PUBLIC CONSTANTS (is there a better way to do this?)\n     **************************************************************************/\n    WHITE: WHITE,\n    BLACK: BLACK,\n    PAWN: PAWN,\n    KNIGHT: KNIGHT,\n    BISHOP: BISHOP,\n    ROOK: ROOK,\n    QUEEN: QUEEN,\n    KING: KING,\n    SQUARES: function () {\n      /* from the ECMA-262 spec (section 12.6.4):\n       * \"The mechanics of enumerating the properties ... is\n       * implementation dependent\"\n       * so: for (var sq in SQUARES) { keys.push(sq); } might not be\n       * ordered correctly\n       */\n      var keys = [];\n\n      for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n        if (i & 0x88) {\n          i += 7;\n          continue;\n        }\n\n        keys.push(algebraic(i));\n      }\n\n      return keys;\n    }(),\n    FLAGS: FLAGS,\n\n    /***************************************************************************\n     * PUBLIC API\n     **************************************************************************/\n    load: function load(fen) {\n      return _load(fen);\n    },\n    reset: function reset() {\n      return _reset();\n    },\n    moves: function moves(options) {\n      /* The internal representation of a chess move is in 0x88 format, and\n       * not meant to be human-readable.  The code below converts the 0x88\n       * square coordinates to algebraic coordinates.  It also prunes an\n       * unnecessary move keys resulting from a verbose call.\n       */\n      var ugly_moves = generate_moves(options);\n      var moves = [];\n\n      for (var i = 0, len = ugly_moves.length; i < len; i++) {\n        /* does the user want a full move object (most likely not), or just\n         * SAN\n         */\n        if (typeof options !== 'undefined' && 'verbose' in options && options.verbose) {\n          moves.push(make_pretty(ugly_moves[i]));\n        } else {\n          moves.push(move_to_san(ugly_moves[i], false));\n        }\n      }\n\n      return moves;\n    },\n    in_check: function in_check() {\n      return _in_check();\n    },\n    in_checkmate: function in_checkmate() {\n      return _in_checkmate();\n    },\n    in_stalemate: function in_stalemate() {\n      return _in_stalemate();\n    },\n    in_draw: function in_draw() {\n      return half_moves >= 100 || _in_stalemate() || _insufficient_material() || _in_threefold_repetition();\n    },\n    insufficient_material: function insufficient_material() {\n      return _insufficient_material();\n    },\n    in_threefold_repetition: function in_threefold_repetition() {\n      return _in_threefold_repetition();\n    },\n    game_over: function game_over() {\n      return half_moves >= 100 || _in_checkmate() || _in_stalemate() || _insufficient_material() || _in_threefold_repetition();\n    },\n    validate_fen: function validate_fen(fen) {\n      return _validate_fen(fen);\n    },\n    fen: function fen() {\n      return generate_fen();\n    },\n    pgn: function pgn(options) {\n      /* using the specification from http://www.chessclub.com/help/PGN-spec\n       * example for html usage: .pgn({ max_width: 72, newline_char: \"<br />\" })\n       */\n      var newline = typeof options === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\n';\n      var max_width = typeof options === 'object' && typeof options.max_width === 'number' ? options.max_width : 0;\n      var result = [];\n      var header_exists = false;\n      /* add the PGN header headerrmation */\n\n      for (var i in header) {\n        /* TODO: order of enumerated properties in header object is not\n         * guaranteed, see ECMA-262 spec (section 12.6.4)\n         */\n        result.push('[' + i + ' \\\"' + header[i] + '\\\"]' + newline);\n        header_exists = true;\n      }\n\n      if (header_exists && _history.length) {\n        result.push(newline);\n      }\n      /* pop all of history onto reversed_history */\n\n\n      var reversed_history = [];\n\n      while (_history.length > 0) {\n        reversed_history.push(undo_move());\n      }\n\n      var moves = [];\n      var move_string = '';\n      /* build the list of moves.  a move_string looks like: \"3. e3 e6\" */\n\n      while (reversed_history.length > 0) {\n        var move = reversed_history.pop();\n        /* if the position started with black to move, start PGN with 1. ... */\n\n        if (!_history.length && move.color === 'b') {\n          move_string = move_number + '. ...';\n        } else if (move.color === 'w') {\n          /* store the previous generated move_string if we have one */\n          if (move_string.length) {\n            moves.push(move_string);\n          }\n\n          move_string = move_number + '.';\n        }\n\n        move_string = move_string + ' ' + move_to_san(move, false);\n        make_move(move);\n      }\n      /* are there any other leftover moves? */\n\n\n      if (move_string.length) {\n        moves.push(move_string);\n      }\n      /* is there a result? */\n\n\n      if (typeof header.Result !== 'undefined') {\n        moves.push(header.Result);\n      }\n      /* history should be back to what is was before we started generating PGN,\n       * so join together moves\n       */\n\n\n      if (max_width === 0) {\n        return result.join('') + moves.join(' ');\n      }\n      /* wrap the PGN output at max_width */\n\n\n      var current_width = 0;\n\n      for (var i = 0; i < moves.length; i++) {\n        /* if the current move will push past max_width */\n        if (current_width + moves[i].length > max_width && i !== 0) {\n          /* don't end the line with whitespace */\n          if (result[result.length - 1] === ' ') {\n            result.pop();\n          }\n\n          result.push(newline);\n          current_width = 0;\n        } else if (i !== 0) {\n          result.push(' ');\n          current_width++;\n        }\n\n        result.push(moves[i]);\n        current_width += moves[i].length;\n      }\n\n      return result.join('');\n    },\n    load_pgn: function load_pgn(pgn, options) {\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy = typeof options !== 'undefined' && 'sloppy' in options ? options.sloppy : false;\n\n      function mask(str) {\n        return str.replace(/\\\\/g, '\\\\');\n      }\n\n      function has_keys(object) {\n        for (var key in object) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function parse_pgn_header(header, options) {\n        var newline_char = typeof options === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\r?\\n';\n        var header_obj = {};\n        var headers = header.split(new RegExp(mask(newline_char)));\n        var key = '';\n        var value = '';\n\n        for (var i = 0; i < headers.length; i++) {\n          key = headers[i].replace(/^\\[([A-Z][A-Za-z]*)\\s.*\\]$/, '$1');\n          value = headers[i].replace(/^\\[[A-Za-z]+\\s\"(.*)\"\\]$/, '$1');\n\n          if (trim(key).length > 0) {\n            header_obj[key] = value;\n          }\n        }\n\n        return header_obj;\n      }\n\n      var newline_char = typeof options === 'object' && typeof options.newline_char === 'string' ? options.newline_char : '\\r?\\n';\n      var regex = new RegExp('^(\\\\[(.|' + mask(newline_char) + ')*\\\\])' + '(' + mask(newline_char) + ')*' + '1.(' + mask(newline_char) + '|.)*$', 'g');\n      /* get header part of the PGN file */\n\n      var header_string = pgn.replace(regex, '$1');\n      /* no info part given, begins with moves */\n\n      if (header_string[0] !== '[') {\n        header_string = '';\n      }\n\n      _reset();\n      /* parse PGN header */\n\n\n      var headers = parse_pgn_header(header_string, options);\n\n      for (var key in headers) {\n        set_header([key, headers[key]]);\n      }\n      /* load the starting position indicated by [Setup '1'] and\n      * [FEN position] */\n\n\n      if (headers['SetUp'] === '1') {\n        if (!('FEN' in headers && _load(headers['FEN']))) {\n          return false;\n        }\n      }\n      /* delete header to get the moves */\n\n\n      var ms = pgn.replace(header_string, '').replace(new RegExp(mask(newline_char), 'g'), ' ');\n      /* delete comments */\n\n      ms = ms.replace(/(\\{[^}]+\\})+?/g, '');\n      /* delete recursive annotation variations */\n\n      var rav_regex = /(\\([^\\(\\)]+\\))+?/g;\n\n      while (rav_regex.test(ms)) {\n        ms = ms.replace(rav_regex, '');\n      }\n      /* delete move numbers */\n\n\n      ms = ms.replace(/\\d+\\.(\\.\\.)?/g, '');\n      /* delete ... indicating black to move */\n\n      ms = ms.replace(/\\.\\.\\./g, '');\n      /* delete numeric annotation glyphs */\n\n      ms = ms.replace(/\\$\\d+/g, '');\n      /* trim and get array of moves */\n\n      var moves = trim(ms).split(new RegExp(/\\s+/));\n      /* delete empty entries */\n\n      moves = moves.join(',').replace(/,,+/g, ',').split(',');\n      var move = '';\n\n      for (var half_move = 0; half_move < moves.length - 1; half_move++) {\n        move = move_from_san(moves[half_move], sloppy);\n        /* move not possible! (don't clear the board to examine to show the\n         * latest valid position)\n         */\n\n        if (move == null) {\n          return false;\n        } else {\n          make_move(move);\n        }\n      }\n      /* examine last move */\n\n\n      move = moves[moves.length - 1];\n\n      if (POSSIBLE_RESULTS.indexOf(move) > -1) {\n        if (has_keys(header) && typeof header.Result === 'undefined') {\n          set_header(['Result', move]);\n        }\n      } else {\n        move = move_from_san(move, sloppy);\n\n        if (move == null) {\n          return false;\n        } else {\n          make_move(move);\n        }\n      }\n\n      return true;\n    },\n    header: function header() {\n      return set_header(arguments);\n    },\n    ascii: function ascii() {\n      return _ascii();\n    },\n    turn: function turn() {\n      return _turn;\n    },\n    move: function move(_move, options) {\n      /* The move function can be called with in the following parameters:\n       *\n       * .move('Nxb7')      <- where 'move' is a case-sensitive SAN string\n       *\n       * .move({ from: 'h7', <- where the 'move' is a move object (additional\n       *         to :'h8',      fields are ignored)\n       *         promotion: 'q',\n       *      })\n       */\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy = typeof options !== 'undefined' && 'sloppy' in options ? options.sloppy : false;\n      var move_obj = null;\n\n      if (typeof _move === 'string') {\n        move_obj = move_from_san(_move, sloppy);\n      } else if (typeof _move === 'object') {\n        var moves = generate_moves();\n        /* convert the pretty move object to an ugly move object */\n\n        for (var i = 0, len = moves.length; i < len; i++) {\n          if (_move.from === algebraic(moves[i].from) && _move.to === algebraic(moves[i].to) && (!('promotion' in moves[i]) || _move.promotion === moves[i].promotion)) {\n            move_obj = moves[i];\n            break;\n          }\n        }\n      }\n      /* failed to find move */\n\n\n      if (!move_obj) {\n        return null;\n      }\n      /* need to make a copy of move because we can't generate SAN after the\n       * move is made\n       */\n\n\n      var pretty_move = make_pretty(move_obj);\n      make_move(move_obj);\n      return pretty_move;\n    },\n    undo: function undo() {\n      var move = undo_move();\n      return move ? make_pretty(move) : null;\n    },\n    clear: function clear() {\n      return _clear();\n    },\n    put: function put(piece, square) {\n      return _put(piece, square);\n    },\n    get: function get(square) {\n      return _get(square);\n    },\n    remove: function remove(square) {\n      return _remove(square);\n    },\n    perft: function perft(depth) {\n      return _perft(depth);\n    },\n    square_color: function square_color(square) {\n      if (square in SQUARES) {\n        var sq_0x88 = SQUARES[square];\n        return (rank(sq_0x88) + file(sq_0x88)) % 2 === 0 ? 'light' : 'dark';\n      }\n\n      return null;\n    },\n    history: function history(options) {\n      var reversed_history = [];\n      var move_history = [];\n      var verbose = typeof options !== 'undefined' && 'verbose' in options && options.verbose;\n\n      while (_history.length > 0) {\n        reversed_history.push(undo_move());\n      }\n\n      while (reversed_history.length > 0) {\n        var move = reversed_history.pop();\n\n        if (verbose) {\n          move_history.push(make_pretty(move));\n        } else {\n          move_history.push(move_to_san(move));\n        }\n\n        make_move(move);\n      }\n\n      return move_history;\n    }\n  };\n};\n/* export Chess object if using node or any other CommonJS compatible\n * environment */\n\n\nif (typeof exports !== 'undefined') exports.Chess = Chess;\n/* export Chess object for any RequireJS compatible environment */\n\nif (typeof define !== 'undefined') define(function () {\n  return Chess;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ranks = exports.files = exports.colors = void 0;\nexports.colors = ['white', 'black'];\nexports.files = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nexports.ranks = ['1', '2', '3', '4', '5', '6', '7', '8'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.write = exports.read = exports.initial = void 0;\n\nvar util_1 = require(\"./util\");\n\nvar cg = require(\"./types\");\n\nexports.initial = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';\nvar roles = {\n  p: 'pawn',\n  r: 'rook',\n  n: 'knight',\n  b: 'bishop',\n  q: 'queen',\n  k: 'king'\n};\nvar letters = {\n  pawn: 'p',\n  rook: 'r',\n  knight: 'n',\n  bishop: 'b',\n  queen: 'q',\n  king: 'k'\n};\n\nfunction read(fen) {\n  if (fen === 'start') fen = exports.initial;\n  var pieces = new Map();\n  var row = 7,\n      col = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = fen[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var c = _step.value;\n\n      switch (c) {\n        case ' ':\n          return pieces;\n\n        case '/':\n          --row;\n          if (row < 0) return pieces;\n          col = 0;\n          break;\n\n        case '~':\n          var piece = pieces.get(util_1.pos2key([col, row]));\n          if (piece) piece.promoted = true;\n          break;\n\n        default:\n          var nb = c.charCodeAt(0);\n          if (nb < 57) col += nb - 48;else {\n            var role = c.toLowerCase();\n            pieces.set(util_1.pos2key([col, row]), {\n              role: roles[role],\n              color: c === role ? 'black' : 'white'\n            });\n            ++col;\n          }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return pieces;\n}\n\nexports.read = read;\n\nfunction write(pieces) {\n  return util_1.invRanks.map(function (y) {\n    return cg.files.map(function (x) {\n      var piece = pieces.get(x + y);\n\n      if (piece) {\n        var letter = letters[piece.role];\n        return piece.color === 'white' ? letter.toUpperCase() : letter;\n      } else return '1';\n    }).join('');\n  }).join('/').replace(/1{2,}/g, function (s) {\n    return s.length.toString();\n  });\n}\n\nexports.write = write;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clear = exports.cancel = exports.end = exports.move = exports.processDraw = exports.start = void 0;\n\nvar board_1 = require(\"./board\");\n\nvar util_1 = require(\"./util\");\n\nvar brushes = ['green', 'red', 'blue', 'yellow'];\n\nfunction start(state, e) {\n  if (e.touches && e.touches.length > 1) return;\n  e.stopPropagation();\n  e.preventDefault();\n  e.ctrlKey ? board_1.unselect(state) : board_1.cancelMove(state);\n  var pos = util_1.eventPosition(e),\n      orig = board_1.getKeyAtDomPos(pos, board_1.whitePov(state), state.dom.bounds());\n  if (!orig) return;\n  state.drawable.current = {\n    orig: orig,\n    pos: pos,\n    brush: eventBrush(e),\n    snapToValidMove: state.drawable.defaultSnapToValidMove\n  };\n  processDraw(state);\n}\n\nexports.start = start;\n\nfunction processDraw(state) {\n  requestAnimationFrame(function () {\n    var cur = state.drawable.current;\n\n    if (cur) {\n      var keyAtDomPos = board_1.getKeyAtDomPos(cur.pos, board_1.whitePov(state), state.dom.bounds());\n\n      if (!keyAtDomPos) {\n        cur.snapToValidMove = false;\n      }\n\n      var mouseSq = cur.snapToValidMove ? board_1.getSnappedKeyAtDomPos(cur.orig, cur.pos, board_1.whitePov(state), state.dom.bounds()) : keyAtDomPos;\n\n      if (mouseSq !== cur.mouseSq) {\n        cur.mouseSq = mouseSq;\n        cur.dest = mouseSq !== cur.orig ? mouseSq : undefined;\n        state.dom.redrawNow();\n      }\n\n      processDraw(state);\n    }\n  });\n}\n\nexports.processDraw = processDraw;\n\nfunction move(state, e) {\n  if (state.drawable.current) state.drawable.current.pos = util_1.eventPosition(e);\n}\n\nexports.move = move;\n\nfunction end(state) {\n  var cur = state.drawable.current;\n\n  if (cur) {\n    if (cur.mouseSq) addShape(state.drawable, cur);\n    cancel(state);\n  }\n}\n\nexports.end = end;\n\nfunction cancel(state) {\n  if (state.drawable.current) {\n    state.drawable.current = undefined;\n    state.dom.redraw();\n  }\n}\n\nexports.cancel = cancel;\n\nfunction clear(state) {\n  if (state.drawable.shapes.length) {\n    state.drawable.shapes = [];\n    state.dom.redraw();\n    onChange(state.drawable);\n  }\n}\n\nexports.clear = clear;\n\nfunction eventBrush(e) {\n  var modA = (e.shiftKey || e.ctrlKey) && util_1.isRightButton(e);\n  var modB = e.altKey || e.metaKey || e.getModifierState('AltGraph');\n  return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];\n}\n\nfunction addShape(drawable, cur) {\n  var sameShape = function sameShape(s) {\n    return s.orig === cur.orig && s.dest === cur.dest;\n  };\n\n  var similar = drawable.shapes.find(sameShape);\n  if (similar) drawable.shapes = drawable.shapes.filter(function (s) {\n    return !sameShape(s);\n  });\n  if (!similar || similar.brush !== cur.brush) drawable.shapes.push(cur);\n  onChange(drawable);\n}\n\nfunction onChange(drawable) {\n  if (drawable.onChange) drawable.onChange(drawable.shapes);\n}","\"use strict\";\n\nvar _slicedToArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = exports.anim = void 0;\n\nvar util = require(\"./util\");\n\nfunction anim(mutation, state) {\n  return state.animation.enabled ? animate(mutation, state) : render(mutation, state);\n}\n\nexports.anim = anim;\n\nfunction render(mutation, state) {\n  var result = mutation(state);\n  state.dom.redraw();\n  return result;\n}\n\nexports.render = render;\n\nfunction makePiece(key, piece) {\n  return {\n    key: key,\n    pos: util.key2pos(key),\n    piece: piece\n  };\n}\n\nfunction closer(piece, pieces) {\n  return pieces.sort(function (p1, p2) {\n    return util.distanceSq(piece.pos, p1.pos) - util.distanceSq(piece.pos, p2.pos);\n  })[0];\n}\n\nfunction computePlan(prevPieces, current) {\n  var anims = new Map(),\n      animedOrigs = [],\n      fadings = new Map(),\n      missings = [],\n      news = [],\n      prePieces = new Map();\n  var curP, preP, vector;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = prevPieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          k = _step$value[0],\n          _p = _step$value[1];\n\n      prePieces.set(k, makePiece(k, _p));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = util.allKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var key = _step2.value;\n      curP = current.pieces.get(key);\n      preP = prePieces.get(key);\n\n      if (curP) {\n        if (preP) {\n          if (!util.samePiece(curP, preP.piece)) {\n            missings.push(preP);\n            news.push(makePiece(key, curP));\n          }\n        } else news.push(makePiece(key, curP));\n      } else if (preP) missings.push(preP);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _loop = function _loop() {\n    var newP = _news[_i];\n    preP = closer(newP, missings.filter(function (p) {\n      return util.samePiece(newP.piece, p.piece);\n    }));\n\n    if (preP) {\n      vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];\n      anims.set(newP.key, vector.concat(vector));\n      animedOrigs.push(preP.key);\n    }\n  };\n\n  for (var _i = 0, _news = news; _i < _news.length; _i++) {\n    _loop();\n  }\n\n  for (var _i2 = 0, _missings = missings; _i2 < _missings.length; _i2++) {\n    var p = _missings[_i2];\n    if (!animedOrigs.includes(p.key)) fadings.set(p.key, p.piece);\n  }\n\n  return {\n    anims: anims,\n    fadings: fadings\n  };\n}\n\nfunction step(state, now) {\n  var cur = state.animation.current;\n\n  if (cur === undefined) {\n    if (!state.dom.destroyed) state.dom.redrawNow();\n    return;\n  }\n\n  var rest = 1 - (now - cur.start) * cur.frequency;\n\n  if (rest <= 0) {\n    state.animation.current = undefined;\n    state.dom.redrawNow();\n  } else {\n    var ease = easing(rest);\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = cur.plan.anims.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var cfg = _step3.value;\n        cfg[2] = cfg[0] * ease;\n        cfg[3] = cfg[1] * ease;\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n\n    state.dom.redrawNow(true);\n    requestAnimationFrame(function () {\n      var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : performance.now();\n      return step(state, now);\n    });\n  }\n}\n\nfunction animate(mutation, state) {\n  var prevPieces = new Map(state.pieces);\n  var result = mutation(state);\n  var plan = computePlan(prevPieces, state);\n\n  if (plan.anims.size || plan.fadings.size) {\n    var alreadyRunning = state.animation.current && state.animation.current.start;\n    state.animation.current = {\n      start: performance.now(),\n      frequency: 1 / state.animation.duration,\n      plan: plan\n    };\n    if (!alreadyRunning) step(state, performance.now());\n  } else {\n    state.dom.redraw();\n  }\n\n  return result;\n}\n\nfunction easing(t) {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configure = void 0;\n\nvar board_1 = require(\"./board\");\n\nvar fen_1 = require(\"./fen\");\n\nfunction configure(state, config) {\n  var _a;\n\n  if ((_a = config.movable) === null || _a === void 0 ? void 0 : _a.dests) state.movable.dests = undefined;\n  merge(state, config);\n\n  if (config.fen) {\n    state.pieces = fen_1.read(config.fen);\n    state.drawable.shapes = [];\n  }\n\n  if (config.hasOwnProperty('check')) board_1.setCheck(state, config.check || false);\n  if (config.hasOwnProperty('lastMove') && !config.lastMove) state.lastMove = undefined;else if (config.lastMove) state.lastMove = config.lastMove;\n  if (state.selected) board_1.setSelected(state, state.selected);\n  if (!state.animation.duration || state.animation.duration < 100) state.animation.enabled = false;\n\n  if (!state.movable.rookCastle && state.movable.dests) {\n    var rank = state.movable.color === 'white' ? '1' : '8',\n        kingStartPos = 'e' + rank,\n        dests = state.movable.dests.get(kingStartPos),\n        king = state.pieces.get(kingStartPos);\n    if (!dests || !king || king.role !== 'king') return;\n    state.movable.dests.set(kingStartPos, dests.filter(function (d) {\n      return !(d === 'a' + rank && dests.includes('c' + rank)) && !(d === 'h' + rank && dests.includes('g' + rank));\n    }));\n  }\n}\n\nexports.configure = configure;\n\nfunction merge(base, extend) {\n  for (var key in extend) {\n    if (isObject(base[key]) && isObject(extend[key])) merge(base[key], extend[key]);else base[key] = extend[key];\n  }\n}\n\nfunction isObject(o) {\n  return typeof o === 'object';\n}","\"use strict\";\n\nvar _slicedToArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderSvg = exports.createElement = void 0;\n\nvar util_1 = require(\"./util\");\n\nfunction createElement(tagName) {\n  return document.createElementNS('http://www.w3.org/2000/svg', tagName);\n}\n\nexports.createElement = createElement;\n\nfunction renderSvg(state, root) {\n  var d = state.drawable,\n      curD = d.current,\n      cur = curD && curD.mouseSq ? curD : undefined,\n      arrowDests = new Map(),\n      bounds = state.dom.bounds();\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = d.shapes.concat(d.autoShapes).concat(cur ? [cur] : [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var s = _step.value;\n      if (s.dest) arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var shapes = d.shapes.concat(d.autoShapes).map(function (s) {\n    return {\n      shape: s,\n      current: false,\n      hash: shapeHash(s, arrowDests, false, bounds)\n    };\n  });\n  if (cur) shapes.push({\n    shape: cur,\n    current: true,\n    hash: shapeHash(cur, arrowDests, true, bounds)\n  });\n  var fullHash = shapes.map(function (sc) {\n    return sc.hash;\n  }).join(';');\n  if (fullHash === state.drawable.prevSvgHash) return;\n  state.drawable.prevSvgHash = fullHash;\n  var defsEl = root.firstChild;\n  syncDefs(d, shapes, defsEl);\n  syncShapes(state, shapes, d.brushes, arrowDests, root, defsEl);\n}\n\nexports.renderSvg = renderSvg;\n\nfunction syncDefs(d, shapes, defsEl) {\n  var brushes = new Map();\n  var brush;\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = shapes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var s = _step2.value;\n\n      if (s.shape.dest) {\n        brush = d.brushes[s.shape.brush];\n        if (s.shape.modifiers) brush = makeCustomBrush(brush, s.shape.modifiers);\n        brushes.set(brush.key, brush);\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var keysInDom = new Set();\n  var el = defsEl.firstChild;\n\n  while (el) {\n    keysInDom.add(el.getAttribute('cgKey'));\n    el = el.nextSibling;\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = brushes.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _step3$value = _slicedToArray(_step3.value, 2),\n          key = _step3$value[0],\n          _brush = _step3$value[1];\n\n      if (!keysInDom.has(key)) defsEl.appendChild(renderMarker(_brush));\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n}\n\nfunction syncShapes(state, shapes, brushes, arrowDests, root, defsEl) {\n  var bounds = state.dom.bounds(),\n      hashesInDom = new Map(),\n      toRemove = [];\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = shapes[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var sc = _step4.value;\n      hashesInDom.set(sc.hash, false);\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  var el = defsEl.nextSibling,\n      elHash;\n\n  while (el) {\n    elHash = el.getAttribute('cgHash');\n    if (hashesInDom.has(elHash)) hashesInDom.set(elHash, true);else toRemove.push(el);\n    el = el.nextSibling;\n  }\n\n  for (var _i = 0, _toRemove = toRemove; _i < _toRemove.length; _i++) {\n    var _el = _toRemove[_i];\n    root.removeChild(_el);\n  }\n\n  var _iteratorNormalCompletion5 = true;\n  var _didIteratorError5 = false;\n  var _iteratorError5 = undefined;\n\n  try {\n    for (var _iterator5 = shapes[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n      var _sc = _step5.value;\n      if (!hashesInDom.get(_sc.hash)) root.appendChild(renderShape(state, _sc, brushes, arrowDests, bounds));\n    }\n  } catch (err) {\n    _didIteratorError5 = true;\n    _iteratorError5 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n        _iterator5.return();\n      }\n    } finally {\n      if (_didIteratorError5) {\n        throw _iteratorError5;\n      }\n    }\n  }\n}\n\nfunction shapeHash(_ref, arrowDests, current, bounds) {\n  var orig = _ref.orig,\n      dest = _ref.dest,\n      brush = _ref.brush,\n      piece = _ref.piece,\n      modifiers = _ref.modifiers;\n  return [bounds.width, bounds.height, current, orig, dest, brush, dest && (arrowDests.get(dest) || 0) > 1, piece && pieceHash(piece), modifiers && modifiersHash(modifiers)].filter(function (x) {\n    return x;\n  }).join(',');\n}\n\nfunction pieceHash(piece) {\n  return [piece.color, piece.role, piece.scale].filter(function (x) {\n    return x;\n  }).join(',');\n}\n\nfunction modifiersHash(m) {\n  return '' + (m.lineWidth || '');\n}\n\nfunction renderShape(state, _ref2, brushes, arrowDests, bounds) {\n  var shape = _ref2.shape,\n      current = _ref2.current,\n      hash = _ref2.hash;\n  var el;\n  if (shape.piece) el = renderPiece(state.drawable.pieces.baseUrl, orient(util_1.key2pos(shape.orig), state.orientation), shape.piece, bounds);else {\n    var orig = orient(util_1.key2pos(shape.orig), state.orientation);\n\n    if (shape.dest) {\n      var brush = brushes[shape.brush];\n      if (shape.modifiers) brush = makeCustomBrush(brush, shape.modifiers);\n      el = renderArrow(brush, orig, orient(util_1.key2pos(shape.dest), state.orientation), current, (arrowDests.get(shape.dest) || 0) > 1, bounds);\n    } else el = renderCircle(brushes[shape.brush], orig, current, bounds);\n  }\n  el.setAttribute('cgHash', hash);\n  return el;\n}\n\nfunction renderCircle(brush, pos, current, bounds) {\n  var o = pos2px(pos, bounds),\n      widths = circleWidth(bounds),\n      radius = (bounds.width + bounds.height) / 32;\n  return setAttributes(createElement('circle'), {\n    stroke: brush.color,\n    'stroke-width': widths[current ? 0 : 1],\n    fill: 'none',\n    opacity: opacity(brush, current),\n    cx: o[0],\n    cy: o[1],\n    r: radius - widths[1] / 2\n  });\n}\n\nfunction renderArrow(brush, orig, dest, current, shorten, bounds) {\n  var m = arrowMargin(bounds, shorten && !current),\n      a = pos2px(orig, bounds),\n      b = pos2px(dest, bounds),\n      dx = b[0] - a[0],\n      dy = b[1] - a[1],\n      angle = Math.atan2(dy, dx),\n      xo = Math.cos(angle) * m,\n      yo = Math.sin(angle) * m;\n  return setAttributes(createElement('line'), {\n    stroke: brush.color,\n    'stroke-width': lineWidth(brush, current, bounds),\n    'stroke-linecap': 'round',\n    'marker-end': 'url(#arrowhead-' + brush.key + ')',\n    opacity: opacity(brush, current),\n    x1: a[0],\n    y1: a[1],\n    x2: b[0] - xo,\n    y2: b[1] - yo\n  });\n}\n\nfunction renderPiece(baseUrl, pos, piece, bounds) {\n  var o = pos2px(pos, bounds),\n      size = bounds.width / 8 * (piece.scale || 1),\n      name = piece.color[0] + (piece.role === 'knight' ? 'n' : piece.role[0]).toUpperCase();\n  return setAttributes(createElement('image'), {\n    className: \"\".concat(piece.role, \" \").concat(piece.color),\n    x: o[0] - size / 2,\n    y: o[1] - size / 2,\n    width: size,\n    height: size,\n    href: baseUrl + name + '.svg'\n  });\n}\n\nfunction renderMarker(brush) {\n  var marker = setAttributes(createElement('marker'), {\n    id: 'arrowhead-' + brush.key,\n    orient: 'auto',\n    markerWidth: 4,\n    markerHeight: 8,\n    refX: 2.05,\n    refY: 2.01\n  });\n  marker.appendChild(setAttributes(createElement('path'), {\n    d: 'M0,0 V4 L3,2 Z',\n    fill: brush.color\n  }));\n  marker.setAttribute('cgKey', brush.key);\n  return marker;\n}\n\nfunction setAttributes(el, attrs) {\n  for (var key in attrs) {\n    el.setAttribute(key, attrs[key]);\n  }\n\n  return el;\n}\n\nfunction orient(pos, color) {\n  return color === 'white' ? pos : [7 - pos[0], 7 - pos[1]];\n}\n\nfunction makeCustomBrush(base, modifiers) {\n  return {\n    color: base.color,\n    opacity: Math.round(base.opacity * 10) / 10,\n    lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),\n    key: [base.key, modifiers.lineWidth].filter(function (x) {\n      return x;\n    }).join('')\n  };\n}\n\nfunction circleWidth(bounds) {\n  var base = bounds.width / 512;\n  return [3 * base, 4 * base];\n}\n\nfunction lineWidth(brush, current, bounds) {\n  return (brush.lineWidth || 10) * (current ? 0.85 : 1) / 512 * bounds.width;\n}\n\nfunction opacity(brush, current) {\n  return (brush.opacity || 1) * (current ? 0.9 : 1);\n}\n\nfunction arrowMargin(bounds, shorten) {\n  return (shorten ? 20 : 10) / 512 * bounds.width;\n}\n\nfunction pos2px(pos, bounds) {\n  return [(pos[0] + 0.5) * bounds.width / 8, (7.5 - pos[1]) * bounds.height / 8];\n}","'use strict';\n/* global setTimeout, clearTimeout */\n\nmodule.exports = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var lastCallAt = void 0;\n  var deferred = void 0;\n  var timer = void 0;\n  var pendingArgs = [];\n  return function debounced() {\n    var currentWait = getWait(wait);\n    var currentTime = new Date().getTime();\n    var isCold = !lastCallAt || currentTime - lastCallAt > currentWait;\n    lastCallAt = currentTime;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (isCold && options.leading) {\n      return options.accumulate ? Promise.resolve(fn.call(this, [args])).then(function (result) {\n        return result[0];\n      }) : Promise.resolve(fn.call.apply(fn, [this].concat(args)));\n    }\n\n    if (deferred) {\n      clearTimeout(timer);\n    } else {\n      deferred = defer();\n    }\n\n    pendingArgs.push(args);\n    timer = setTimeout(flush.bind(this), currentWait);\n\n    if (options.accumulate) {\n      var argsIndex = pendingArgs.length - 1;\n      return deferred.promise.then(function (results) {\n        return results[argsIndex];\n      });\n    }\n\n    return deferred.promise;\n  };\n\n  function flush() {\n    var thisDeferred = deferred;\n    clearTimeout(timer);\n    Promise.resolve(options.accumulate ? fn.call(this, pendingArgs) : fn.apply(this, pendingArgs[pendingArgs.length - 1])).then(thisDeferred.resolve, thisDeferred.reject);\n    pendingArgs = [];\n    deferred = null;\n  }\n};\n\nfunction getWait(wait) {\n  return typeof wait === 'function' ? wait() : wait;\n}\n\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}","module.exports = require(\"./chessground\");","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Chessground as NativeChessground } from 'chessground';\n\nvar Chessground =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Chessground, _React$Component);\n\n  function Chessground() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Chessground.prototype;\n\n  _proto.buildConfigFromProps = function buildConfigFromProps(props) {\n    var config = {\n      events: {}\n    };\n    Object.keys(Chessground.propTypes).forEach(function (k) {\n      var v = props[k];\n\n      if (typeof v !== 'undefined') {\n        var match = k.match(/^on([A-Z]\\S*)/);\n\n        if (match) {\n          config.events[match[1].toLowerCase()] = v;\n        } else {\n          config[k] = v;\n        }\n      }\n    });\n    return config;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.cg = NativeChessground(this.el, this.buildConfigFromProps(this.props));\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    this.cg.set(this.buildConfigFromProps(nextProps));\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cg.destroy();\n  };\n\n  _proto.render = function render() {\n    var _this = this;\n\n    var props = {\n      style: _extends({}, this.props.style)\n    };\n\n    if (this.props.width) {\n      props.style.width = this.props.width;\n    }\n\n    if (this.props.height) {\n      props.style.height = this.props.height;\n    }\n\n    return React.createElement(\"div\", _extends({\n      ref: function ref(el) {\n        return _this.el = el;\n      }\n    }, props));\n  };\n\n  return Chessground;\n}(React.Component);\n\n_defineProperty(Chessground, \"propTypes\", {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  fen: PropTypes.string,\n  orientation: PropTypes.string,\n  turnColor: PropTypes.string,\n  check: PropTypes.string,\n  lastMove: PropTypes.array,\n  selected: PropTypes.string,\n  coordinates: PropTypes.bool,\n  autoCastle: PropTypes.bool,\n  viewOnly: PropTypes.bool,\n  disableContextMenu: PropTypes.bool,\n  resizable: PropTypes.bool,\n  addPieceZIndex: PropTypes.bool,\n  highlight: PropTypes.object,\n  animation: PropTypes.object,\n  movable: PropTypes.object,\n  premovable: PropTypes.object,\n  predroppable: PropTypes.object,\n  draggable: PropTypes.object,\n  selectable: PropTypes.object,\n  onChange: PropTypes.func,\n  onMove: PropTypes.func,\n  onDropNewPiece: PropTypes.func,\n  onSelect: PropTypes.func,\n  items: PropTypes.object,\n  drawable: PropTypes.object\n});\n\n_defineProperty(Chessground, \"defaultProps\", {\n  coordinates: true,\n  resizable: true,\n  highlight: {\n    lastMove: true,\n    check: true\n  }\n});\n\nexport { Chessground as default };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Chessground = void 0;\n\nvar api_1 = require(\"./api\");\n\nvar config_1 = require(\"./config\");\n\nvar state_1 = require(\"./state\");\n\nvar wrap_1 = require(\"./wrap\");\n\nvar events = require(\"./events\");\n\nvar render_1 = require(\"./render\");\n\nvar svg = require(\"./svg\");\n\nvar util = require(\"./util\");\n\nfunction Chessground(element, config) {\n  var state = state_1.defaults();\n  config_1.configure(state, config || {});\n\n  function redrawAll() {\n    var prevUnbind = state.dom && state.dom.unbind;\n\n    var relative = state.viewOnly && !state.drawable.visible,\n        elements = wrap_1.renderWrap(element, state, relative),\n        bounds = util.memo(function () {\n      return elements.board.getBoundingClientRect();\n    }),\n        redrawNow = function redrawNow(skipSvg) {\n      render_1.render(state);\n      if (!skipSvg && elements.svg) svg.renderSvg(state, elements.svg);\n    },\n        boundsUpdated = function boundsUpdated() {\n      bounds.clear();\n      render_1.updateBounds(state);\n      if (elements.svg) svg.renderSvg(state, elements.svg);\n    };\n\n    state.dom = {\n      elements: elements,\n      bounds: bounds,\n      redraw: debounceRedraw(redrawNow),\n      redrawNow: redrawNow,\n      unbind: prevUnbind,\n      relative: relative\n    };\n    state.drawable.prevSvgHash = '';\n    redrawNow(false);\n    events.bindBoard(state, boundsUpdated);\n    if (!prevUnbind) state.dom.unbind = events.bindDocument(state, boundsUpdated);\n    state.events.insert && state.events.insert(elements);\n  }\n\n  redrawAll();\n  return api_1.start(state, redrawAll);\n}\n\nexports.Chessground = Chessground;\n\nfunction debounceRedraw(redrawNow) {\n  var redrawing = false;\n  return function () {\n    if (redrawing) return;\n    redrawing = true;\n    requestAnimationFrame(function () {\n      redrawNow();\n      redrawing = false;\n    });\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.start = void 0;\n\nvar board = require(\"./board\");\n\nvar fen_1 = require(\"./fen\");\n\nvar config_1 = require(\"./config\");\n\nvar anim_1 = require(\"./anim\");\n\nvar drag_1 = require(\"./drag\");\n\nvar explosion_1 = require(\"./explosion\");\n\nfunction start(state, redrawAll) {\n  function toggleOrientation() {\n    board.toggleOrientation(state);\n    redrawAll();\n  }\n\n  return {\n    set: function set(config) {\n      if (config.orientation && config.orientation !== state.orientation) toggleOrientation();\n      (config.fen ? anim_1.anim : anim_1.render)(function (state) {\n        return config_1.configure(state, config);\n      }, state);\n    },\n    state: state,\n    getFen: function getFen() {\n      return fen_1.write(state.pieces);\n    },\n    toggleOrientation: toggleOrientation,\n    setPieces: function setPieces(pieces) {\n      anim_1.anim(function (state) {\n        return board.setPieces(state, pieces);\n      }, state);\n    },\n    selectSquare: function selectSquare(key, force) {\n      if (key) anim_1.anim(function (state) {\n        return board.selectSquare(state, key, force);\n      }, state);else if (state.selected) {\n        board.unselect(state);\n        state.dom.redraw();\n      }\n    },\n    move: function move(orig, dest) {\n      anim_1.anim(function (state) {\n        return board.baseMove(state, orig, dest);\n      }, state);\n    },\n    newPiece: function newPiece(piece, key) {\n      anim_1.anim(function (state) {\n        return board.baseNewPiece(state, piece, key);\n      }, state);\n    },\n    playPremove: function playPremove() {\n      if (state.premovable.current) {\n        if (anim_1.anim(board.playPremove, state)) return true;\n        state.dom.redraw();\n      }\n\n      return false;\n    },\n    playPredrop: function playPredrop(validate) {\n      if (state.predroppable.current) {\n        var result = board.playPredrop(state, validate);\n        state.dom.redraw();\n        return result;\n      }\n\n      return false;\n    },\n    cancelPremove: function cancelPremove() {\n      anim_1.render(board.unsetPremove, state);\n    },\n    cancelPredrop: function cancelPredrop() {\n      anim_1.render(board.unsetPredrop, state);\n    },\n    cancelMove: function cancelMove() {\n      anim_1.render(function (state) {\n        board.cancelMove(state);\n        drag_1.cancel(state);\n      }, state);\n    },\n    stop: function stop() {\n      anim_1.render(function (state) {\n        board.stop(state);\n        drag_1.cancel(state);\n      }, state);\n    },\n    explode: function explode(keys) {\n      explosion_1.explosion(state, keys);\n    },\n    setAutoShapes: function setAutoShapes(shapes) {\n      anim_1.render(function (state) {\n        return state.drawable.autoShapes = shapes;\n      }, state);\n    },\n    setShapes: function setShapes(shapes) {\n      anim_1.render(function (state) {\n        return state.drawable.shapes = shapes;\n      }, state);\n    },\n    getKeyAtDomPos: function getKeyAtDomPos(pos) {\n      return board.getKeyAtDomPos(pos, board.whitePov(state), state.dom.bounds());\n    },\n    redrawAll: redrawAll,\n    dragNewPiece: function dragNewPiece(piece, event, force) {\n      drag_1.dragNewPiece(state, piece, event, force);\n    },\n    destroy: function destroy() {\n      board.stop(state);\n      state.dom.unbind && state.dom.unbind();\n      state.dom.destroyed = true;\n    }\n  };\n}\n\nexports.start = start;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nvar _slicedToArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.premove = exports.queen = exports.knight = void 0;\n\nvar util = require(\"./util\");\n\nfunction diff(a, b) {\n  return Math.abs(a - b);\n}\n\nfunction pawn(color) {\n  return function (x1, y1, x2, y2) {\n    return diff(x1, x2) < 2 && (color === 'white' ? y2 === y1 + 1 || y1 <= 1 && y2 === y1 + 2 && x1 === x2 : y2 === y1 - 1 || y1 >= 6 && y2 === y1 - 2 && x1 === x2);\n  };\n}\n\nexports.knight = function (x1, y1, x2, y2) {\n  var xd = diff(x1, x2);\n  var yd = diff(y1, y2);\n  return xd === 1 && yd === 2 || xd === 2 && yd === 1;\n};\n\nvar bishop = function bishop(x1, y1, x2, y2) {\n  return diff(x1, x2) === diff(y1, y2);\n};\n\nvar rook = function rook(x1, y1, x2, y2) {\n  return x1 === x2 || y1 === y2;\n};\n\nexports.queen = function (x1, y1, x2, y2) {\n  return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);\n};\n\nfunction king(color, rookFiles, canCastle) {\n  return function (x1, y1, x2, y2) {\n    return diff(x1, x2) < 2 && diff(y1, y2) < 2 || canCastle && y1 === y2 && y1 === (color === 'white' ? 0 : 7) && (x1 === 4 && (x2 === 2 && rookFiles.includes(0) || x2 === 6 && rookFiles.includes(7)) || rookFiles.includes(x2));\n  };\n}\n\nfunction rookFilesOf(pieces, color) {\n  var backrank = color === 'white' ? '1' : '8';\n  var files = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          key = _step$value[0],\n          piece = _step$value[1];\n\n      if (key[1] === backrank && piece.color === color && piece.role === 'rook') {\n        files.push(util.key2pos(key)[0]);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return files;\n}\n\nfunction premove(pieces, key, canCastle) {\n  var piece = pieces.get(key);\n  if (!piece) return [];\n  var pos = util.key2pos(key),\n      r = piece.role,\n      mobility = r === 'pawn' ? pawn(piece.color) : r === 'knight' ? exports.knight : r === 'bishop' ? bishop : r === 'rook' ? rook : r === 'queen' ? exports.queen : king(piece.color, rookFilesOf(pieces, piece.color), canCastle);\n  return util.allPos.filter(function (pos2) {\n    return (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(pos[0], pos[1], pos2[0], pos2[1]);\n  }).map(util.pos2key);\n}\n\nexports.premove = premove;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.explosion = void 0;\n\nfunction explosion(state, keys) {\n  state.exploding = {\n    stage: 1,\n    keys: keys\n  };\n  state.dom.redraw();\n  setTimeout(function () {\n    setStage(state, 2);\n    setTimeout(function () {\n      return setStage(state, undefined);\n    }, 120);\n  }, 120);\n}\n\nexports.explosion = explosion;\n\nfunction setStage(state, stage) {\n  if (state.exploding) {\n    if (stage) state.exploding.stage = stage;else state.exploding = undefined;\n    state.dom.redraw();\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaults = void 0;\n\nvar fen = require(\"./fen\");\n\nvar util_1 = require(\"./util\");\n\nfunction defaults() {\n  return {\n    pieces: fen.read(fen.initial),\n    orientation: 'white',\n    turnColor: 'white',\n    coordinates: true,\n    autoCastle: true,\n    viewOnly: false,\n    disableContextMenu: false,\n    resizable: true,\n    addPieceZIndex: false,\n    pieceKey: false,\n    highlight: {\n      lastMove: true,\n      check: true\n    },\n    animation: {\n      enabled: true,\n      duration: 200\n    },\n    movable: {\n      free: true,\n      color: 'both',\n      showDests: true,\n      events: {},\n      rookCastle: true\n    },\n    premovable: {\n      enabled: true,\n      showDests: true,\n      castle: true,\n      events: {}\n    },\n    predroppable: {\n      enabled: false,\n      events: {}\n    },\n    draggable: {\n      enabled: true,\n      distance: 3,\n      autoDistance: true,\n      showGhost: true,\n      deleteOnDropOff: false\n    },\n    dropmode: {\n      active: false\n    },\n    selectable: {\n      enabled: true\n    },\n    stats: {\n      dragged: !('ontouchstart' in window)\n    },\n    events: {},\n    drawable: {\n      enabled: true,\n      visible: true,\n      defaultSnapToValidMove: true,\n      eraseOnClick: true,\n      shapes: [],\n      autoShapes: [],\n      brushes: {\n        green: {\n          key: 'g',\n          color: '#15781B',\n          opacity: 1,\n          lineWidth: 10\n        },\n        red: {\n          key: 'r',\n          color: '#882020',\n          opacity: 1,\n          lineWidth: 10\n        },\n        blue: {\n          key: 'b',\n          color: '#003088',\n          opacity: 1,\n          lineWidth: 10\n        },\n        yellow: {\n          key: 'y',\n          color: '#e68f00',\n          opacity: 1,\n          lineWidth: 10\n        },\n        paleBlue: {\n          key: 'pb',\n          color: '#003088',\n          opacity: 0.4,\n          lineWidth: 15\n        },\n        paleGreen: {\n          key: 'pg',\n          color: '#15781B',\n          opacity: 0.4,\n          lineWidth: 15\n        },\n        paleRed: {\n          key: 'pr',\n          color: '#882020',\n          opacity: 0.4,\n          lineWidth: 15\n        },\n        paleGrey: {\n          key: 'pgr',\n          color: '#4a4a4a',\n          opacity: 0.35,\n          lineWidth: 15\n        }\n      },\n      pieces: {\n        baseUrl: 'https://lichess1.org/assets/piece/cburnett/'\n      },\n      prevSvgHash: ''\n    },\n    hold: util_1.timer()\n  };\n}\n\nexports.defaults = defaults;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderWrap = void 0;\n\nvar util_1 = require(\"./util\");\n\nvar types_1 = require(\"./types\");\n\nvar svg_1 = require(\"./svg\");\n\nfunction renderWrap(element, s, relative) {\n  element.innerHTML = '';\n  element.classList.add('cg-wrap');\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = types_1.colors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var c = _step.value;\n      element.classList.toggle('orientation-' + c, s.orientation === c);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  element.classList.toggle('manipulable', !s.viewOnly);\n  var helper = util_1.createEl('cg-helper');\n  element.appendChild(helper);\n  var container = util_1.createEl('cg-container');\n  helper.appendChild(container);\n  var board = util_1.createEl('cg-board');\n  container.appendChild(board);\n  var svg;\n\n  if (s.drawable.visible && !relative) {\n    svg = svg_1.createElement('svg');\n    svg.appendChild(svg_1.createElement('defs'));\n    container.appendChild(svg);\n  }\n\n  if (s.coordinates) {\n    var orientClass = s.orientation === 'black' ? ' black' : '';\n    container.appendChild(renderCoords(types_1.ranks, 'ranks' + orientClass));\n    container.appendChild(renderCoords(types_1.files, 'files' + orientClass));\n  }\n\n  var ghost;\n\n  if (s.draggable.showGhost && !relative) {\n    ghost = util_1.createEl('piece', 'ghost');\n    util_1.setVisible(ghost, false);\n    container.appendChild(ghost);\n  }\n\n  return {\n    board: board,\n    container: container,\n    ghost: ghost,\n    svg: svg\n  };\n}\n\nexports.renderWrap = renderWrap;\n\nfunction renderCoords(elems, className) {\n  var el = util_1.createEl('coords', className);\n  var f;\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = elems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var elem = _step2.value;\n      f = util_1.createEl('coord');\n      f.textContent = elem;\n      el.appendChild(f);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return el;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindDocument = exports.bindBoard = void 0;\n\nvar drag = require(\"./drag\");\n\nvar draw = require(\"./draw\");\n\nvar drop_1 = require(\"./drop\");\n\nvar util_1 = require(\"./util\");\n\nfunction bindBoard(s, boundsUpdated) {\n  var boardEl = s.dom.elements.board;\n\n  if (!s.dom.relative && s.resizable && 'ResizeObserver' in window) {\n    var observer = new window['ResizeObserver'](boundsUpdated);\n    observer.observe(boardEl);\n  }\n\n  if (s.viewOnly) return;\n  var onStart = startDragOrDraw(s);\n  boardEl.addEventListener('touchstart', onStart, {\n    passive: false\n  });\n  boardEl.addEventListener('mousedown', onStart, {\n    passive: false\n  });\n\n  if (s.disableContextMenu || s.drawable.enabled) {\n    boardEl.addEventListener('contextmenu', function (e) {\n      return e.preventDefault();\n    });\n  }\n}\n\nexports.bindBoard = bindBoard;\n\nfunction bindDocument(s, boundsUpdated) {\n  var unbinds = [];\n\n  if (!s.dom.relative && s.resizable && !('ResizeObserver' in window)) {\n    unbinds.push(unbindable(document.body, 'chessground.resize', boundsUpdated));\n  }\n\n  if (!s.viewOnly) {\n    var onmove = dragOrDraw(s, drag.move, draw.move);\n    var onend = dragOrDraw(s, drag.end, draw.end);\n\n    for (var _i = 0, _arr = ['touchmove', 'mousemove']; _i < _arr.length; _i++) {\n      var ev = _arr[_i];\n      unbinds.push(unbindable(document, ev, onmove));\n    }\n\n    for (var _i2 = 0, _arr2 = ['touchend', 'mouseup']; _i2 < _arr2.length; _i2++) {\n      var _ev = _arr2[_i2];\n      unbinds.push(unbindable(document, _ev, onend));\n    }\n\n    var onScroll = function onScroll() {\n      return s.dom.bounds.clear();\n    };\n\n    unbinds.push(unbindable(document, 'scroll', onScroll, {\n      capture: true,\n      passive: true\n    }));\n    unbinds.push(unbindable(window, 'resize', onScroll, {\n      passive: true\n    }));\n  }\n\n  return function () {\n    return unbinds.forEach(function (f) {\n      return f();\n    });\n  };\n}\n\nexports.bindDocument = bindDocument;\n\nfunction unbindable(el, eventName, callback, options) {\n  el.addEventListener(eventName, callback, options);\n  return function () {\n    return el.removeEventListener(eventName, callback, options);\n  };\n}\n\nfunction startDragOrDraw(s) {\n  return function (e) {\n    if (s.draggable.current) drag.cancel(s);else if (s.drawable.current) draw.cancel(s);else if (e.shiftKey || util_1.isRightButton(e)) {\n      if (s.drawable.enabled) draw.start(s, e);\n    } else if (!s.viewOnly) {\n      if (s.dropmode.active) drop_1.drop(s, e);else drag.start(s, e);\n    }\n  };\n}\n\nfunction dragOrDraw(s, withDrag, withDraw) {\n  return function (e) {\n    if (s.drawable.current) {\n      if (s.drawable.enabled) withDraw(s, e);\n    } else if (!s.viewOnly) withDrag(s, e);\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drop = exports.cancelDropMode = exports.setDropMode = void 0;\n\nvar board = require(\"./board\");\n\nvar util = require(\"./util\");\n\nvar drag_1 = require(\"./drag\");\n\nfunction setDropMode(s, piece) {\n  s.dropmode = {\n    active: true,\n    piece: piece\n  };\n  drag_1.cancel(s);\n}\n\nexports.setDropMode = setDropMode;\n\nfunction cancelDropMode(s) {\n  s.dropmode = {\n    active: false\n  };\n}\n\nexports.cancelDropMode = cancelDropMode;\n\nfunction drop(s, e) {\n  if (!s.dropmode.active) return;\n  board.unsetPremove(s);\n  board.unsetPredrop(s);\n  var piece = s.dropmode.piece;\n\n  if (piece) {\n    s.pieces.set('a0', piece);\n    var position = util.eventPosition(e);\n    var dest = position && board.getKeyAtDomPos(position, board.whitePov(s), s.dom.bounds());\n    if (dest) board.dropNewPiece(s, 'a0', dest);\n  }\n\n  s.dom.redraw();\n}\n\nexports.drop = drop;","\"use strict\";\n\nvar _slicedToArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateBounds = exports.render = void 0;\n\nvar util_1 = require(\"./util\");\n\nvar board_1 = require(\"./board\");\n\nvar util = require(\"./util\");\n\nfunction render(s) {\n  var asWhite = board_1.whitePov(s),\n      posToTranslate = s.dom.relative ? util.posToTranslateRel : util.posToTranslateAbs(s.dom.bounds()),\n      translate = s.dom.relative ? util.translateRel : util.translateAbs,\n      boardEl = s.dom.elements.board,\n      pieces = s.pieces,\n      curAnim = s.animation.current,\n      anims = curAnim ? curAnim.plan.anims : new Map(),\n      fadings = curAnim ? curAnim.plan.fadings : new Map(),\n      curDrag = s.draggable.current,\n      squares = computeSquareClasses(s),\n      samePieces = new Set(),\n      sameSquares = new Set(),\n      movedPieces = new Map(),\n      movedSquares = new Map();\n  var k, el, pieceAtKey, elPieceName, anim, fading, pMvdset, pMvd, sMvdset, sMvd;\n  el = boardEl.firstChild;\n\n  while (el) {\n    k = el.cgKey;\n\n    if (isPieceNode(el)) {\n      pieceAtKey = pieces.get(k);\n      anim = anims.get(k);\n      fading = fadings.get(k);\n      elPieceName = el.cgPiece;\n\n      if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {\n        el.classList.remove('dragging');\n        translate(el, posToTranslate(util_1.key2pos(k), asWhite));\n        el.cgDragging = false;\n      }\n\n      if (!fading && el.cgFading) {\n        el.cgFading = false;\n        el.classList.remove('fading');\n      }\n\n      if (pieceAtKey) {\n        if (anim && el.cgAnimating && elPieceName === pieceNameOf(pieceAtKey)) {\n          var pos = util_1.key2pos(k);\n          pos[0] += anim[2];\n          pos[1] += anim[3];\n          el.classList.add('anim');\n          translate(el, posToTranslate(pos, asWhite));\n        } else if (el.cgAnimating) {\n          el.cgAnimating = false;\n          el.classList.remove('anim');\n          translate(el, posToTranslate(util_1.key2pos(k), asWhite));\n          if (s.addPieceZIndex) el.style.zIndex = posZIndex(util_1.key2pos(k), asWhite);\n        }\n\n        if (elPieceName === pieceNameOf(pieceAtKey) && (!fading || !el.cgFading)) {\n          samePieces.add(k);\n        } else {\n          if (fading && elPieceName === pieceNameOf(fading)) {\n            el.classList.add('fading');\n            el.cgFading = true;\n          } else {\n            appendValue(movedPieces, elPieceName, el);\n          }\n        }\n      } else {\n        appendValue(movedPieces, elPieceName, el);\n      }\n    } else if (isSquareNode(el)) {\n      var cn = el.className;\n      if (squares.get(k) === cn) sameSquares.add(k);else appendValue(movedSquares, cn, el);\n    }\n\n    el = el.nextSibling;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = squares[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          sk = _step$value[0],\n          className = _step$value[1];\n\n      if (!sameSquares.has(sk)) {\n        sMvdset = movedSquares.get(className);\n        sMvd = sMvdset && sMvdset.pop();\n        var translation = posToTranslate(util_1.key2pos(sk), asWhite);\n\n        if (sMvd) {\n          sMvd.cgKey = sk;\n          translate(sMvd, translation);\n        } else {\n          var squareNode = util_1.createEl('square', className);\n          squareNode.cgKey = sk;\n          translate(squareNode, translation);\n          boardEl.insertBefore(squareNode, boardEl.firstChild);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = pieces[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2),\n          _k = _step2$value[0],\n          p = _step2$value[1];\n\n      anim = anims.get(_k);\n\n      if (!samePieces.has(_k)) {\n        pMvdset = movedPieces.get(pieceNameOf(p));\n        pMvd = pMvdset && pMvdset.pop();\n\n        if (pMvd) {\n          pMvd.cgKey = _k;\n\n          if (pMvd.cgFading) {\n            pMvd.classList.remove('fading');\n            pMvd.cgFading = false;\n          }\n\n          var _pos = util_1.key2pos(_k);\n\n          if (s.addPieceZIndex) pMvd.style.zIndex = posZIndex(_pos, asWhite);\n\n          if (anim) {\n            pMvd.cgAnimating = true;\n            pMvd.classList.add('anim');\n            _pos[0] += anim[2];\n            _pos[1] += anim[3];\n          }\n\n          translate(pMvd, posToTranslate(_pos, asWhite));\n        } else {\n          var pieceName = pieceNameOf(p),\n              pieceNode = util_1.createEl('piece', pieceName),\n              _pos2 = util_1.key2pos(_k);\n\n          pieceNode.cgPiece = pieceName;\n          pieceNode.cgKey = _k;\n\n          if (anim) {\n            pieceNode.cgAnimating = true;\n            _pos2[0] += anim[2];\n            _pos2[1] += anim[3];\n          }\n\n          translate(pieceNode, posToTranslate(_pos2, asWhite));\n          if (s.addPieceZIndex) pieceNode.style.zIndex = posZIndex(_pos2, asWhite);\n          boardEl.appendChild(pieceNode);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = movedPieces.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var nodes = _step3.value;\n      removeNodes(s, nodes);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = movedSquares.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var _nodes = _step4.value;\n      removeNodes(s, _nodes);\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n}\n\nexports.render = render;\n\nfunction updateBounds(s) {\n  if (s.dom.relative) return;\n  var asWhite = board_1.whitePov(s),\n      posToTranslate = util.posToTranslateAbs(s.dom.bounds());\n  var el = s.dom.elements.board.firstChild;\n\n  while (el) {\n    if (isPieceNode(el) && !el.cgAnimating || isSquareNode(el)) {\n      util.translateAbs(el, posToTranslate(util_1.key2pos(el.cgKey), asWhite));\n    }\n\n    el = el.nextSibling;\n  }\n}\n\nexports.updateBounds = updateBounds;\n\nfunction isPieceNode(el) {\n  return el.tagName === 'PIECE';\n}\n\nfunction isSquareNode(el) {\n  return el.tagName === 'SQUARE';\n}\n\nfunction removeNodes(s, nodes) {\n  var _iteratorNormalCompletion5 = true;\n  var _didIteratorError5 = false;\n  var _iteratorError5 = undefined;\n\n  try {\n    for (var _iterator5 = nodes[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n      var node = _step5.value;\n      s.dom.elements.board.removeChild(node);\n    }\n  } catch (err) {\n    _didIteratorError5 = true;\n    _iteratorError5 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n        _iterator5.return();\n      }\n    } finally {\n      if (_didIteratorError5) {\n        throw _iteratorError5;\n      }\n    }\n  }\n}\n\nfunction posZIndex(pos, asWhite) {\n  var z = 2 + pos[1] * 8 + (7 - pos[0]);\n  if (asWhite) z = 67 - z;\n  return z + '';\n}\n\nfunction pieceNameOf(piece) {\n  return \"\".concat(piece.color, \" \").concat(piece.role);\n}\n\nfunction computeSquareClasses(s) {\n  var _a;\n\n  var squares = new Map();\n\n  if (s.lastMove && s.highlight.lastMove) {\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = s.lastMove[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var k = _step6.value;\n        addSquare(squares, k, 'last-move');\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n          _iterator6.return();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  }\n\n  if (s.check && s.highlight.check) addSquare(squares, s.check, 'check');\n\n  if (s.selected) {\n    addSquare(squares, s.selected, 'selected');\n\n    if (s.movable.showDests) {\n      var dests = (_a = s.movable.dests) === null || _a === void 0 ? void 0 : _a.get(s.selected);\n\n      if (dests) {\n        var _iteratorNormalCompletion7 = true;\n        var _didIteratorError7 = false;\n        var _iteratorError7 = undefined;\n\n        try {\n          for (var _iterator7 = dests[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var _k2 = _step7.value;\n            addSquare(squares, _k2, 'move-dest' + (s.pieces.has(_k2) ? ' oc' : ''));\n          }\n        } catch (err) {\n          _didIteratorError7 = true;\n          _iteratorError7 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion7 && _iterator7.return != null) {\n              _iterator7.return();\n            }\n          } finally {\n            if (_didIteratorError7) {\n              throw _iteratorError7;\n            }\n          }\n        }\n      }\n\n      var pDests = s.premovable.dests;\n\n      if (pDests) {\n        var _iteratorNormalCompletion8 = true;\n        var _didIteratorError8 = false;\n        var _iteratorError8 = undefined;\n\n        try {\n          for (var _iterator8 = pDests[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n            var _k3 = _step8.value;\n            addSquare(squares, _k3, 'premove-dest' + (s.pieces.has(_k3) ? ' oc' : ''));\n          }\n        } catch (err) {\n          _didIteratorError8 = true;\n          _iteratorError8 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion8 && _iterator8.return != null) {\n              _iterator8.return();\n            }\n          } finally {\n            if (_didIteratorError8) {\n              throw _iteratorError8;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  var premove = s.premovable.current;\n\n  if (premove) {\n    var _iteratorNormalCompletion9 = true;\n    var _didIteratorError9 = false;\n    var _iteratorError9 = undefined;\n\n    try {\n      for (var _iterator9 = premove[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n        var _k4 = _step9.value;\n        addSquare(squares, _k4, 'current-premove');\n      }\n    } catch (err) {\n      _didIteratorError9 = true;\n      _iteratorError9 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion9 && _iterator9.return != null) {\n          _iterator9.return();\n        }\n      } finally {\n        if (_didIteratorError9) {\n          throw _iteratorError9;\n        }\n      }\n    }\n  } else if (s.predroppable.current) addSquare(squares, s.predroppable.current.key, 'current-premove');\n\n  var o = s.exploding;\n\n  if (o) {\n    var _iteratorNormalCompletion10 = true;\n    var _didIteratorError10 = false;\n    var _iteratorError10 = undefined;\n\n    try {\n      for (var _iterator10 = o.keys[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n        var _k5 = _step10.value;\n        addSquare(squares, _k5, 'exploding' + o.stage);\n      }\n    } catch (err) {\n      _didIteratorError10 = true;\n      _iteratorError10 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion10 && _iterator10.return != null) {\n          _iterator10.return();\n        }\n      } finally {\n        if (_didIteratorError10) {\n          throw _iteratorError10;\n        }\n      }\n    }\n  }\n\n  return squares;\n}\n\nfunction addSquare(squares, key, klass) {\n  var classes = squares.get(key);\n  if (classes) squares.set(key, \"\".concat(classes, \" \").concat(klass));else squares.set(key, klass);\n}\n\nfunction appendValue(map, key, value) {\n  var arr = map.get(key);\n  if (arr) arr.push(value);else map.set(key, [value]);\n}","export function callIfExists(func) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof func === 'function' && func.apply(undefined, args);\n}\nexport function hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexport function uniqueId() {\n  return Math.random().toString(36).substring(7);\n}\nexport var cssClasses = {\n  menu: 'react-contextmenu',\n  menuVisible: 'react-contextmenu--visible',\n  menuWrapper: 'react-contextmenu-wrapper',\n  menuItem: 'react-contextmenu-item',\n  menuItemActive: 'react-contextmenu-item--active',\n  menuItemDisabled: 'react-contextmenu-item--disabled',\n  menuItemDivider: 'react-contextmenu-item--divider',\n  menuItemSelected: 'react-contextmenu-item--selected',\n  subMenu: 'react-contextmenu-submenu'\n};\nexport var store = {};\nexport var canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);","import assign from 'object-assign';\nimport { store } from './helpers';\nexport var MENU_SHOW = 'REACT_CONTEXTMENU_SHOW';\nexport var MENU_HIDE = 'REACT_CONTEXTMENU_HIDE';\nexport function dispatchGlobalEvent(eventName, opts) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window; // Compatibale with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n\n  var event = void 0;\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, true, opts);\n  }\n\n  if (target) {\n    target.dispatchEvent(event);\n    assign(store, opts);\n  }\n}\nexport function showMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_SHOW, assign({}, opts, {\n    type: MENU_SHOW\n  }), target);\n}\nexport function hideMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_HIDE, assign({}, opts, {\n    type: MENU_HIDE\n  }), target);\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport { MENU_SHOW, MENU_HIDE } from './actions';\nimport { uniqueId, hasOwnProp, canUseDOM } from './helpers';\n\nvar GlobalEventListener = function GlobalEventListener() {\n  var _this = this;\n\n  _classCallCheck(this, GlobalEventListener);\n\n  this.handleShowEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].show(event);\n    }\n  };\n\n  this.handleHideEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].hide(event);\n    }\n  };\n\n  this.register = function (showCallback, hideCallback) {\n    var id = uniqueId();\n    _this.callbacks[id] = {\n      show: showCallback,\n      hide: hideCallback\n    };\n    return id;\n  };\n\n  this.unregister = function (id) {\n    if (id && _this.callbacks[id]) {\n      delete _this.callbacks[id];\n    }\n  };\n\n  this.callbacks = {};\n\n  if (canUseDOM) {\n    window.addEventListener(MENU_SHOW, this.handleShowEvent);\n    window.addEventListener(MENU_HIDE, this.handleHideEvent);\n  }\n};\n\nexport default new GlobalEventListener();","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport { callIfExists, cssClasses, store } from './helpers';\n\nvar MenuItem = function (_Component) {\n  _inherits(MenuItem, _Component);\n\n  function MenuItem() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MenuItem.__proto__ || Object.getPrototypeOf(MenuItem)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (event.button !== 0 && event.button !== 1) {\n        event.preventDefault();\n      }\n\n      if (_this.props.disabled || _this.props.divider) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.preventClose) return;\n      hideMenu();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuItem, [{\n    key: 'render',\n    value: function render() {\n      var _cx,\n          _this2 = this;\n\n      var _props = this.props,\n          disabled = _props.disabled,\n          divider = _props.divider,\n          children = _props.children,\n          attributes = _props.attributes,\n          selected = _props.selected;\n      var menuItemClassNames = cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemDivider, attributes.dividerClassName), divider), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx));\n      return React.createElement('div', _extends({}, attributes, {\n        className: menuItemClassNames,\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-disabled': disabled ? 'true' : 'false',\n        'aria-orientation': divider ? 'horizontal' : null,\n        ref: function ref(_ref2) {\n          _this2.ref = _ref2;\n        },\n        onMouseMove: this.props.onMouseMove,\n        onMouseLeave: this.props.onMouseLeave,\n        onTouchEnd: this.handleClick,\n        onClick: this.handleClick\n      }), divider ? null : children);\n    }\n  }]);\n\n  return MenuItem;\n}(Component);\n\nMenuItem.propTypes = {\n  children: PropTypes.node,\n  attributes: PropTypes.object,\n  data: PropTypes.object,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  preventClose: PropTypes.bool,\n  onClick: PropTypes.func,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseLeave: PropTypes.func\n};\nMenuItem.defaultProps = {\n  disabled: false,\n  data: {},\n  divider: false,\n  attributes: {},\n  preventClose: false,\n  onClick: function onClick() {\n    return null;\n  },\n  children: null,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  }\n};\nexport default MenuItem;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './MenuItem';\n\nvar AbstractMenu = function (_Component) {\n  _inherits(AbstractMenu, _Component);\n\n  function AbstractMenu(props) {\n    _classCallCheck(this, AbstractMenu);\n\n    var _this = _possibleConstructorReturn(this, (AbstractMenu.__proto__ || Object.getPrototypeOf(AbstractMenu)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.seletedItemRef = null;\n    _this.state = {\n      selectedItem: null,\n      forceSubMenuOpen: false\n    };\n    return _this;\n  }\n\n  return AbstractMenu;\n}(Component);\n\nAbstractMenu.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.handleKeyNavigation = function (e) {\n    // check for isVisible strictly here as it might be undefined when this code executes in the context of SubMenu\n    // but we only need to check when it runs in the ContextMenu context\n    if (_this2.state.isVisible === false) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      case 37: // left arrow\n\n      case 27:\n        // escape\n        e.preventDefault();\n\n        _this2.hideMenu(e);\n\n        break;\n\n      case 38:\n        // up arrow\n        e.preventDefault();\n\n        _this2.selectChildren(true);\n\n        break;\n\n      case 40:\n        // down arrow\n        e.preventDefault();\n\n        _this2.selectChildren(false);\n\n        break;\n\n      case 39:\n        // right arrow\n        _this2.tryToOpenSubMenu(e);\n\n        break;\n\n      case 13:\n        // enter\n        e.preventDefault();\n\n        _this2.tryToOpenSubMenu(e);\n\n        {\n          // determine the selected item is disabled or not\n          var disabled = _this2.seletedItemRef && _this2.seletedItemRef.props && _this2.seletedItemRef.props.disabled;\n\n          if (_this2.seletedItemRef && _this2.seletedItemRef.ref instanceof HTMLElement && !disabled) {\n            _this2.seletedItemRef.ref.click();\n          } else {\n            _this2.hideMenu(e);\n          }\n        }\n        break;\n\n      default: // do nothing\n\n    }\n  };\n\n  this.handleForceClose = function () {\n    _this2.setState({\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.tryToOpenSubMenu = function (e) {\n    if (_this2.state.selectedItem && _this2.state.selectedItem.type === _this2.getSubMenuType()) {\n      e.preventDefault();\n\n      _this2.setState({\n        forceSubMenuOpen: true\n      });\n    }\n  };\n\n  this.selectChildren = function (forward) {\n    var selectedItem = _this2.state.selectedItem;\n    var children = [];\n    var disabledChildrenCount = 0;\n    var disabledChildIndexes = {};\n\n    var childCollector = function childCollector(child, index) {\n      // child can be empty in case you do conditional rendering of components, in which\n      // case it should not be accounted for as a real child\n      if (!child) {\n        return;\n      }\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        React.Children.forEach(child.props.children, childCollector);\n      } else if (!child.props.divider) {\n        if (child.props.disabled) {\n          ++disabledChildrenCount;\n          disabledChildIndexes[index] = true;\n        }\n\n        children.push(child);\n      }\n    };\n\n    React.Children.forEach(_this2.props.children, childCollector);\n\n    if (disabledChildrenCount === children.length) {\n      // All menu items are disabled, so none can be selected, don't do anything\n      return;\n    }\n\n    function findNextEnabledChildIndex(currentIndex) {\n      var i = currentIndex;\n\n      var incrementCounter = function incrementCounter() {\n        if (forward) {\n          --i;\n        } else {\n          ++i;\n        }\n\n        if (i < 0) {\n          i = children.length - 1;\n        } else if (i >= children.length) {\n          i = 0;\n        }\n      };\n\n      do {\n        incrementCounter();\n      } while (i !== currentIndex && disabledChildIndexes[i]);\n\n      return i === currentIndex ? null : i;\n    }\n\n    var currentIndex = children.indexOf(selectedItem);\n    var nextEnabledChildIndex = findNextEnabledChildIndex(currentIndex);\n\n    if (nextEnabledChildIndex !== null) {\n      _this2.setState({\n        selectedItem: children[nextEnabledChildIndex],\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseMove = function (child) {\n    if (_this2.state.selectedItem !== child) {\n      _this2.setState({\n        selectedItem: child,\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseLeave = function () {\n    _this2.setState({\n      selectedItem: null,\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.renderChildren = function (children) {\n    return React.Children.map(children, function (child) {\n      var props = {};\n      if (!React.isValidElement(child)) return child;\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        props.children = _this2.renderChildren(child.props.children);\n        return React.cloneElement(child, props);\n      }\n\n      props.onMouseLeave = _this2.onChildMouseLeave.bind(_this2);\n\n      if (child.type === _this2.getSubMenuType()) {\n        // special props for SubMenu only\n        props.forceOpen = _this2.state.forceSubMenuOpen && _this2.state.selectedItem === child;\n        props.forceClose = _this2.handleForceClose;\n        props.parentKeyNavigationHandler = _this2.handleKeyNavigation;\n      }\n\n      if (!child.props.divider && _this2.state.selectedItem === child) {\n        // special props for selected item only\n        props.selected = true;\n\n        props.ref = function (ref) {\n          _this2.seletedItemRef = ref;\n        };\n\n        return React.cloneElement(child, props);\n      } // onMouseMove is only needed for non selected items\n\n\n      props.onMouseMove = function () {\n        return _this2.onChildMouseMove(child);\n      };\n\n      return React.cloneElement(child, props);\n    });\n  };\n};\n\nexport default AbstractMenu;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport AbstractMenu from './AbstractMenu';\nimport { callIfExists, cssClasses, hasOwnProp, store } from './helpers';\nimport listener from './globalEventListener';\n\nvar SubMenu = function (_AbstractMenu) {\n  _inherits(SubMenu, _AbstractMenu);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, (SubMenu.__proto__ || Object.getPrototypeOf(SubMenu)).call(this, props));\n\n    _this.getMenuPosition = function () {\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.right < innerWidth) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var _window2 = window,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.left < 0) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.hideMenu = function (e) {\n      // avoid closing submenus of a different menu tree\n      if (e.detail && e.detail.id && _this.menu && e.detail.id !== _this.menu.id) {\n        return;\n      }\n\n      if (_this.props.forceOpen) {\n        _this.props.forceClose();\n      }\n\n      _this.setState({\n        visible: false,\n        selectedItem: null\n      });\n\n      _this.unregisterHandlers();\n    };\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n      if (_this.props.disabled) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n    };\n\n    _this.handleMouseEnter = function () {\n      if (_this.closetimer) clearTimeout(_this.closetimer);\n      if (_this.props.disabled || _this.state.visible) return;\n      _this.opentimer = setTimeout(function () {\n        return _this.setState({\n          visible: true,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.handleMouseLeave = function () {\n      if (_this.opentimer) clearTimeout(_this.opentimer);\n      if (!_this.state.visible) return;\n      _this.closetimer = setTimeout(function () {\n        return _this.setState({\n          visible: false,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.subMenuRef = function (c) {\n      _this.subMenu = c;\n    };\n\n    _this.registerHandlers = function () {\n      document.removeEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n    };\n\n    _this.unregisterHandlers = function (dismounting) {\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n\n      if (!dismounting) {\n        document.addEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      }\n    };\n\n    _this.state = assign({}, _this.state, {\n      visible: false\n    });\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(function () {}, this.hideMenu);\n    }\n  }, {\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      this.isVisibilityChange = (this.state.visible !== nextState.visible || this.props.forceOpen !== nextProps.forceOpen) && !(this.state.visible && nextProps.forceOpen) && !(this.props.forceOpen && nextState.visible);\n      return true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (!this.isVisibilityChange) return;\n\n      if (this.props.forceOpen || this.state.visible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var styles = _this2.props.rtl ? _this2.getRTLMenuPosition() : _this2.getMenuPosition();\n\n          _this2.subMenu.style.removeProperty('top');\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('left');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          if (hasOwnProp(styles, 'top')) _this2.subMenu.style.top = styles.top;\n          if (hasOwnProp(styles, 'left')) _this2.subMenu.style.left = styles.left;\n          if (hasOwnProp(styles, 'bottom')) _this2.subMenu.style.bottom = styles.bottom;\n          if (hasOwnProp(styles, 'right')) _this2.subMenu.style.right = styles.right;\n\n          _this2.subMenu.classList.add(cssClasses.menuVisible);\n\n          _this2.registerHandlers();\n\n          _this2.setState({\n            selectedItem: null\n          });\n        });\n      } else {\n        var cleanup = function cleanup() {\n          _this2.subMenu.removeEventListener('transitionend', cleanup);\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          _this2.subMenu.style.top = 0;\n          _this2.subMenu.style.left = '100%';\n\n          _this2.unregisterHandlers();\n        };\n\n        this.subMenu.addEventListener('transitionend', cleanup);\n        this.subMenu.classList.remove(cssClasses.menuVisible);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      if (this.opentimer) clearTimeout(this.opentimer);\n      if (this.closetimer) clearTimeout(this.closetimer);\n      this.unregisterHandlers(true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _cx;\n\n      var _props = this.props,\n          children = _props.children,\n          attributes = _props.attributes,\n          disabled = _props.disabled,\n          title = _props.title,\n          selected = _props.selected;\n      var visible = this.state.visible;\n      var menuProps = {\n        ref: this.menuRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        className: cx(cssClasses.menuItem, cssClasses.subMenu, attributes.listClassName),\n        style: {\n          position: 'relative'\n        }\n      };\n      var menuItemProps = {\n        className: cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemActive, attributes.visibleClassName), visible), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx)),\n        onMouseMove: this.props.onMouseMove,\n        onMouseOut: this.props.onMouseOut,\n        onClick: this.handleClick\n      };\n      var subMenuProps = {\n        ref: this.subMenuRef,\n        style: {\n          position: 'absolute',\n          transition: 'opacity 1ms',\n          // trigger transitionend event\n          top: 0,\n          left: '100%'\n        },\n        className: cx(cssClasses.menu, this.props.className)\n      };\n      return React.createElement('nav', _extends({}, menuProps, {\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-haspopup': 'true'\n      }), React.createElement('div', _extends({}, attributes, menuItemProps), title), React.createElement('nav', _extends({}, subMenuProps, {\n        role: 'menu',\n        tabIndex: '-1'\n      }), this.renderChildren(children)));\n    }\n  }]);\n\n  return SubMenu;\n}(AbstractMenu);\n\nSubMenu.propTypes = {\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  hoverDelay: PropTypes.number,\n  rtl: PropTypes.bool,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  forceOpen: PropTypes.bool,\n  forceClose: PropTypes.func,\n  parentKeyNavigationHandler: PropTypes.func\n};\nSubMenu.defaultProps = {\n  disabled: false,\n  hoverDelay: 500,\n  attributes: {},\n  className: '',\n  rtl: false,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseOut: function onMouseOut() {\n    return null;\n  },\n  forceOpen: false,\n  forceClose: function forceClose() {\n    return null;\n  },\n  parentKeyNavigationHandler: function parentKeyNavigationHandler() {\n    return null;\n  }\n};\nexport default SubMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n  _inherits(ContextMenu, _AbstractMenu);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n    _this.registerHandlers = function () {\n      document.addEventListener('mousedown', _this.handleOutsideClick);\n      document.addEventListener('touchstart', _this.handleOutsideClick);\n      document.addEventListener('scroll', _this.handleHide);\n      document.addEventListener('contextmenu', _this.handleHide);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n      window.addEventListener('resize', _this.handleHide);\n    };\n\n    _this.unregisterHandlers = function () {\n      document.removeEventListener('mousedown', _this.handleOutsideClick);\n      document.removeEventListener('touchstart', _this.handleOutsideClick);\n      document.removeEventListener('scroll', _this.handleHide);\n      document.removeEventListener('contextmenu', _this.handleHide);\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n      window.removeEventListener('resize', _this.handleHide);\n    };\n\n    _this.handleShow = function (e) {\n      if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n      var _e$detail$position = e.detail.position,\n          x = _e$detail$position.x,\n          y = _e$detail$position.y;\n\n      _this.setState({\n        isVisible: true,\n        x: x,\n        y: y\n      });\n\n      _this.registerHandlers();\n\n      callIfExists(_this.props.onShow, e);\n    };\n\n    _this.handleHide = function (e) {\n      if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n        _this.unregisterHandlers();\n\n        _this.setState({\n          isVisible: false,\n          selectedItem: null,\n          forceSubMenuOpen: false\n        });\n\n        callIfExists(_this.props.onHide, e);\n      }\n    };\n\n    _this.handleOutsideClick = function (e) {\n      if (!_this.menu.contains(e.target)) hideMenu();\n    };\n\n    _this.handleMouseLeave = function (event) {\n      event.preventDefault();\n      callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.hideOnLeave) hideMenu();\n    };\n\n    _this.handleContextMenu = function (e) {\n      if (process.env.NODE_ENV === 'production') {\n        e.preventDefault();\n      }\n\n      _this.handleHide(e);\n    };\n\n    _this.hideMenu = function (e) {\n      if (e.keyCode === 27 || e.keyCode === 13) {\n        // ECS or enter\n        hideMenu();\n      }\n    };\n\n    _this.getMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth) {\n        menuStyles.left -= rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window2 = window,\n          innerWidth = _window2.innerWidth,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect(); // Try to position the menu on the left side of the cursor\n\n\n      menuStyles.left = x - rect.width;\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left += rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left + rect.width > innerWidth) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.state = assign({}, _this.state, {\n      x: 0,\n      y: 0,\n      isVisible: false\n    });\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(this.handleShow, this.handleHide);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.state.isVisible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var _state = _this2.state,\n              x = _state.x,\n              y = _state.y;\n\n          var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n              top = _ref.top,\n              left = _ref.left;\n\n          wrapper(function () {\n            if (!_this2.menu) return;\n            _this2.menu.style.top = top + 'px';\n            _this2.menu.style.left = left + 'px';\n            _this2.menu.style.opacity = 1;\n            _this2.menu.style.pointerEvents = 'auto';\n          });\n        });\n      } else {\n        if (!this.menu) return;\n        this.menu.style.opacity = 0;\n        this.menu.style.pointerEvents = 'none';\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      this.unregisterHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          style = _props.style;\n      var isVisible = this.state.isVisible;\n      var inlineStyle = assign({}, style, {\n        position: 'fixed',\n        opacity: 0,\n        pointerEvents: 'none'\n      });\n      var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n      return React.createElement('nav', {\n        role: 'menu',\n        tabIndex: '-1',\n        ref: this.menuRef,\n        style: inlineStyle,\n        className: menuClassnames,\n        onContextMenu: this.handleContextMenu,\n        onMouseLeave: this.handleMouseLeave\n      }, this.renderChildren(children));\n    }\n  }]);\n\n  return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  data: PropTypes.object,\n  className: PropTypes.string,\n  hideOnLeave: PropTypes.bool,\n  rtl: PropTypes.bool,\n  onHide: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onShow: PropTypes.func,\n  style: PropTypes.object\n};\nContextMenu.defaultProps = {\n  className: '',\n  data: {},\n  hideOnLeave: false,\n  rtl: false,\n  onHide: function onHide() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  onShow: function onShow() {\n    return null;\n  },\n  style: {}\n};\nexport default ContextMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { showMenu, hideMenu } from './actions';\nimport { callIfExists, cssClasses } from './helpers';\n\nvar ContextMenuTrigger = function (_Component) {\n  _inherits(ContextMenuTrigger, _Component);\n\n  function ContextMenuTrigger() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ContextMenuTrigger);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ContextMenuTrigger.__proto__ || Object.getPrototypeOf(ContextMenuTrigger)).call.apply(_ref, [this].concat(args))), _this), _this.touchHandled = false, _this.handleMouseDown = function (event) {\n      if (_this.props.holdToDisplay >= 0 && event.button === 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.mouseDownTimeoutId = setTimeout(function () {\n          return _this.handleContextClick(event);\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onMouseDown, event);\n    }, _this.handleMouseUp = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseUp, event);\n    }, _this.handleMouseOut = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseOut, event);\n    }, _this.handleTouchstart = function (event) {\n      _this.touchHandled = false;\n\n      if (_this.props.holdToDisplay >= 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.touchstartTimeoutId = setTimeout(function () {\n          _this.handleContextClick(event);\n\n          _this.touchHandled = true;\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onTouchStart, event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.touchHandled) {\n        event.preventDefault();\n      }\n\n      clearTimeout(_this.touchstartTimeoutId);\n      callIfExists(_this.props.attributes.onTouchEnd, event);\n    }, _this.handleContextMenu = function (event) {\n      _this.handleContextClick(event);\n\n      callIfExists(_this.props.attributes.onContextMenu, event);\n    }, _this.handleContextClick = function (event) {\n      if (_this.props.disable) return;\n      if (_this.props.disableIfShiftIsPressed && event.shiftKey) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var x = event.clientX || event.touches && event.touches[0].pageX;\n      var y = event.clientY || event.touches && event.touches[0].pageY;\n\n      if (_this.props.posX) {\n        x -= _this.props.posX;\n      }\n\n      if (_this.props.posY) {\n        y -= _this.props.posY;\n      }\n\n      hideMenu();\n      var data = callIfExists(_this.props.collect, _this.props);\n      var showMenuConfig = {\n        position: {\n          x: x,\n          y: y\n        },\n        target: _this.elem,\n        id: _this.props.id\n      };\n\n      if (data && typeof data.then === 'function') {\n        // it's promise\n        data.then(function (resp) {\n          showMenuConfig.data = assign({}, resp, {\n            target: event.target\n          });\n          showMenu(showMenuConfig);\n        });\n      } else {\n        showMenuConfig.data = assign({}, data, {\n          target: event.target\n        });\n        showMenu(showMenuConfig);\n      }\n    }, _this.elemRef = function (c) {\n      _this.elem = c;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ContextMenuTrigger, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          renderTag = _props.renderTag,\n          attributes = _props.attributes,\n          children = _props.children;\n      var newAttrs = assign({}, attributes, {\n        className: cx(cssClasses.menuWrapper, attributes.className),\n        onContextMenu: this.handleContextMenu,\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onTouchStart: this.handleTouchstart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseOut: this.handleMouseOut,\n        ref: this.elemRef\n      });\n      return React.createElement(renderTag, newAttrs, children);\n    }\n  }]);\n\n  return ContextMenuTrigger;\n}(Component);\n\nContextMenuTrigger.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  collect: PropTypes.func,\n  disable: PropTypes.bool,\n  holdToDisplay: PropTypes.number,\n  posX: PropTypes.number,\n  posY: PropTypes.number,\n  renderTag: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  disableIfShiftIsPressed: PropTypes.bool\n};\nContextMenuTrigger.defaultProps = {\n  attributes: {},\n  collect: function collect() {\n    return null;\n  },\n  disable: false,\n  holdToDisplay: 1000,\n  renderTag: 'div',\n  posX: 0,\n  posY: 0,\n  disableIfShiftIsPressed: false\n};\nexport default ContextMenuTrigger;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nimport React, { Component } from 'react';\nimport ContextMenuTrigger from './ContextMenuTrigger';\nimport listener from './globalEventListener'; // collect ContextMenuTrigger's expected props to NOT pass them on as part of the context\n\nvar ignoredTriggerProps = [].concat(_toConsumableArray(Object.keys(ContextMenuTrigger.propTypes)), ['children']); // expect the id of the menu to be responsible for as outer parameter\n\nexport default function (menuId) {\n  // expect menu component to connect as inner parameter\n  // <Child/> is presumably a wrapper of <ContextMenu/>\n  return function (Child) {\n    // return wrapper for <Child/> that forwards the ContextMenuTrigger's additional props\n    return function (_Component) {\n      _inherits(ConnectMenu, _Component);\n\n      function ConnectMenu(props) {\n        _classCallCheck(this, ConnectMenu);\n\n        var _this = _possibleConstructorReturn(this, (ConnectMenu.__proto__ || Object.getPrototypeOf(ConnectMenu)).call(this, props));\n\n        _this.handleShow = function (e) {\n          if (e.detail.id !== menuId) return; // the onShow event's detail.data object holds all ContextMenuTrigger props\n\n          var data = e.detail.data;\n          var filteredData = {};\n\n          for (var key in data) {\n            // exclude props the ContextMenuTrigger is expecting itself\n            if (!ignoredTriggerProps.includes(key)) {\n              filteredData[key] = data[key];\n            }\n          }\n\n          _this.setState({\n            trigger: filteredData\n          });\n        };\n\n        _this.handleHide = function () {\n          _this.setState({\n            trigger: null\n          });\n        };\n\n        _this.state = {\n          trigger: null\n        };\n        return _this;\n      }\n\n      _createClass(ConnectMenu, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.listenId = listener.register(this.handleShow, this.handleHide);\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (this.listenId) {\n            listener.unregister(this.listenId);\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Child, _extends({}, this.props, {\n            id: menuId,\n            trigger: this.state.trigger\n          }));\n        }\n      }]);\n\n      return ConnectMenu;\n    }(Component);\n  };\n}","export { default as ContextMenu } from './ContextMenu';\nexport { default as ContextMenuTrigger } from './ContextMenuTrigger';\nexport { default as MenuItem } from './MenuItem';\nexport { default as SubMenu } from './SubMenu';\nexport { default as connectMenu } from './connectMenu';\nexport { hideMenu, showMenu } from './actions';","import { createImperativePromise } from 'awesome-imperative-promise'; // see https://stackoverflow.com/a/54825370/82609\n\nfunction onlyResolvesLast(asyncFunction) {\n  var cancelPrevious = null;\n\n  var wrappedFunction = function wrappedFunction() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    cancelPrevious && cancelPrevious();\n    var initialPromise = asyncFunction.apply(void 0, args);\n\n    var _a = createImperativePromise(initialPromise),\n        promise = _a.promise,\n        cancel = _a.cancel;\n\n    cancelPrevious = cancel;\n    return promise;\n  };\n\n  return wrappedFunction; // TODO fix TS\n}\n\nexport { onlyResolvesLast };","function createImperativePromise(promiseArg) {\n  var _resolve2 = null;\n  var _reject2 = null;\n  var wrappedPromise = new Promise(function (_resolve, _reject) {\n    _resolve2 = _resolve;\n    _reject2 = _reject;\n  });\n  promiseArg && promiseArg.then(function (val) {\n    _resolve2 && _resolve2(val);\n  }, function (error) {\n    _reject2 && _reject2(error);\n  });\n  return {\n    promise: wrappedPromise,\n    resolve: function resolve(value) {\n      _resolve2 && _resolve2(value);\n    },\n    reject: function reject(reason) {\n      _reject2 && _reject2(reason);\n    },\n    cancel: function cancel() {\n      _resolve2 = null;\n      _reject2 = null;\n    }\n  };\n}\n\nexport { createImperativePromise };","import DebouncePromise from 'debounce-promise';\nimport { onlyResolvesLast } from 'awesome-only-resolves-last-promise';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nvar DefaultOptions = {\n  // One distinct debounced function is created per key and added to an internal cache\n  // By default, the key is null, which means that all the calls\n  // will share the same debounced function\n  key: function key() {\n    var _args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      _args[_i] = arguments[_i];\n    }\n\n    return null;\n  },\n  // By default, a debounced function will only resolve\n  // the last promise it returned\n  // Former calls will stay unresolved, so that you don't have\n  // to handle concurrency issues in your code\n  // Setting this to false means all returned promises will resolve to the last result\n  onlyResolvesLast: true\n}; // We create a debouncing function cache, because when wrapping the original function,\n// we may actually want to route the function call to different debounced functions depending function paameters\n\nvar DebounceCache =\n/** @class */\nfunction () {\n  function DebounceCache(config) {\n    this.config = config;\n    this.debounceSingleton = null;\n    this.debounceCache = {}; // when key feature is used\n  }\n\n  DebounceCache.prototype._createDebouncedFunction = function () {\n    var debouncedFunc = DebouncePromise(this.config.func, this.config.wait, this.config.options); // TODO TS\n\n    if (this.config.options.onlyResolvesLast) {\n      debouncedFunc = onlyResolvesLast(debouncedFunc);\n    }\n\n    return {\n      func: debouncedFunc\n    };\n  };\n\n  DebounceCache.prototype.getDebouncedFunction = function (args) {\n    var _a;\n\n    var key = (_a = this.config.options).key.apply(_a, args);\n\n    if (key === null || typeof key === 'undefined') {\n      if (!this.debounceSingleton) {\n        this.debounceSingleton = this._createDebouncedFunction();\n      }\n\n      return this.debounceSingleton;\n    } else {\n      if (!this.debounceCache[key]) {\n        this.debounceCache[key] = this._createDebouncedFunction();\n      }\n\n      return this.debounceCache[key];\n    }\n  };\n\n  return DebounceCache;\n}();\n\nfunction AwesomeDebouncePromise(func, wait, options) {\n  var finalOptions = _assign({}, DefaultOptions, options);\n\n  var debounceCache = new DebounceCache({\n    func: func,\n    wait: wait,\n    options: finalOptions\n  });\n\n  var AwesomeDebouncePromiseWrapper = function AwesomeDebouncePromiseWrapper() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var debouncedFn = debounceCache.getDebouncedFunction(args).func;\n    return debouncedFn.apply(void 0, args);\n  }; // TODO fix TS\n\n  /*\r\n  AwesomeDebouncePromiseWrapper.cancel = (key?: string) => {\r\n     };\r\n  */\n\n\n  return AwesomeDebouncePromiseWrapper;\n}\n\nexport default AwesomeDebouncePromise;","\"use strict\";\n\nvar _toConsumableArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _Array$prototype;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createEl = exports.isRightButton = exports.eventPosition = exports.setVisible = exports.translateRel = exports.translateAbs = exports.posToTranslateRel = exports.posToTranslateAbs = exports.samePiece = exports.distanceSq = exports.opposite = exports.timer = exports.memo = exports.allPos = exports.key2pos = exports.pos2key = exports.allKeys = exports.invRanks = void 0;\n\nvar cg = require(\"./types\");\n\nexports.invRanks = ['8', '7', '6', '5', '4', '3', '2', '1'];\nexports.allKeys = (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, _toConsumableArray(cg.files.map(function (c) {\n  return cg.ranks.map(function (r) {\n    return c + r;\n  });\n})));\n\nexports.pos2key = function (pos) {\n  return exports.allKeys[8 * pos[0] + pos[1]];\n};\n\nexports.key2pos = function (k) {\n  return [k.charCodeAt(0) - 97, k.charCodeAt(1) - 49];\n};\n\nexports.allPos = exports.allKeys.map(exports.key2pos);\n\nfunction memo(f) {\n  var v;\n\n  var ret = function ret() {\n    if (v === undefined) v = f();\n    return v;\n  };\n\n  ret.clear = function () {\n    v = undefined;\n  };\n\n  return ret;\n}\n\nexports.memo = memo;\n\nexports.timer = function () {\n  var startAt;\n  return {\n    start: function start() {\n      startAt = performance.now();\n    },\n    cancel: function cancel() {\n      startAt = undefined;\n    },\n    stop: function stop() {\n      if (!startAt) return 0;\n      var time = performance.now() - startAt;\n      startAt = undefined;\n      return time;\n    }\n  };\n};\n\nexports.opposite = function (c) {\n  return c === 'white' ? 'black' : 'white';\n};\n\nexports.distanceSq = function (pos1, pos2) {\n  var dx = pos1[0] - pos2[0],\n      dy = pos1[1] - pos2[1];\n  return dx * dx + dy * dy;\n};\n\nexports.samePiece = function (p1, p2) {\n  return p1.role === p2.role && p1.color === p2.color;\n};\n\nvar posToTranslateBase = function posToTranslateBase(pos, asWhite, xFactor, yFactor) {\n  return [(asWhite ? pos[0] : 7 - pos[0]) * xFactor, (asWhite ? 7 - pos[1] : pos[1]) * yFactor];\n};\n\nexports.posToTranslateAbs = function (bounds) {\n  var xFactor = bounds.width / 8,\n      yFactor = bounds.height / 8;\n  return function (pos, asWhite) {\n    return posToTranslateBase(pos, asWhite, xFactor, yFactor);\n  };\n};\n\nexports.posToTranslateRel = function (pos, asWhite) {\n  return posToTranslateBase(pos, asWhite, 100, 100);\n};\n\nexports.translateAbs = function (el, pos) {\n  el.style.transform = \"translate(\".concat(pos[0], \"px,\").concat(pos[1], \"px)\");\n};\n\nexports.translateRel = function (el, percents) {\n  el.style.transform = \"translate(\".concat(percents[0], \"%,\").concat(percents[1], \"%)\");\n};\n\nexports.setVisible = function (el, v) {\n  el.style.visibility = v ? 'visible' : 'hidden';\n};\n\nexports.eventPosition = function (e) {\n  if (e.clientX || e.clientX === 0) return [e.clientX, e.clientY];\n  if (e.touches && e.targetTouches[0]) return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];\n  return;\n};\n\nexports.isRightButton = function (e) {\n  return e.buttons === 2 || e.button === 2;\n};\n\nexports.createEl = function (tagName, className) {\n  var el = document.createElement(tagName);\n  if (className) el.className = className;\n  return el;\n};","\"use strict\";\n\nvar _slicedToArray = require(\"C:\\\\Users\\\\Lucas\\\\Documents\\\\dev\\\\chess-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.whitePov = exports.getSnappedKeyAtDomPos = exports.getKeyAtDomPos = exports.stop = exports.cancelMove = exports.playPredrop = exports.playPremove = exports.isDraggable = exports.canMove = exports.unselect = exports.setSelected = exports.selectSquare = exports.dropNewPiece = exports.userMove = exports.baseNewPiece = exports.baseMove = exports.unsetPredrop = exports.unsetPremove = exports.setCheck = exports.setPieces = exports.reset = exports.toggleOrientation = exports.callUserFunction = void 0;\n\nvar util_1 = require(\"./util\");\n\nvar premove_1 = require(\"./premove\");\n\nvar drag_1 = require(\"./drag\");\n\nfunction callUserFunction(f) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (f) setTimeout(function () {\n    return f.apply(void 0, args);\n  }, 1);\n}\n\nexports.callUserFunction = callUserFunction;\n\nfunction toggleOrientation(state) {\n  state.orientation = util_1.opposite(state.orientation);\n  state.animation.current = state.draggable.current = state.selected = undefined;\n}\n\nexports.toggleOrientation = toggleOrientation;\n\nfunction reset(state) {\n  state.lastMove = undefined;\n  unselect(state);\n  unsetPremove(state);\n  unsetPredrop(state);\n}\n\nexports.reset = reset;\n\nfunction setPieces(state, pieces) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pieces[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          key = _step$value[0],\n          piece = _step$value[1];\n\n      if (piece) state.pieces.set(key, piece);else state.pieces.delete(key);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nexports.setPieces = setPieces;\n\nfunction setCheck(state, color) {\n  state.check = undefined;\n  if (color === true) color = state.turnColor;\n\n  if (color) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = state.pieces[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _step2$value = _slicedToArray(_step2.value, 2),\n            k = _step2$value[0],\n            p = _step2$value[1];\n\n        if (p.role === 'king' && p.color === color) {\n          state.check = k;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n}\n\nexports.setCheck = setCheck;\n\nfunction setPremove(state, orig, dest, meta) {\n  unsetPredrop(state);\n  state.premovable.current = [orig, dest];\n  callUserFunction(state.premovable.events.set, orig, dest, meta);\n}\n\nfunction unsetPremove(state) {\n  if (state.premovable.current) {\n    state.premovable.current = undefined;\n    callUserFunction(state.premovable.events.unset);\n  }\n}\n\nexports.unsetPremove = unsetPremove;\n\nfunction setPredrop(state, role, key) {\n  unsetPremove(state);\n  state.predroppable.current = {\n    role: role,\n    key: key\n  };\n  callUserFunction(state.predroppable.events.set, role, key);\n}\n\nfunction unsetPredrop(state) {\n  var pd = state.predroppable;\n\n  if (pd.current) {\n    pd.current = undefined;\n    callUserFunction(pd.events.unset);\n  }\n}\n\nexports.unsetPredrop = unsetPredrop;\n\nfunction tryAutoCastle(state, orig, dest) {\n  if (!state.autoCastle) return false;\n  var king = state.pieces.get(orig);\n  if (!king || king.role !== 'king') return false;\n  var origPos = util_1.key2pos(orig);\n  var destPos = util_1.key2pos(dest);\n  if (origPos[1] !== 0 && origPos[1] !== 7 || origPos[1] !== destPos[1]) return false;\n\n  if (origPos[0] === 4 && !state.pieces.has(dest)) {\n    if (destPos[0] === 6) dest = util_1.pos2key([7, destPos[1]]);else if (destPos[0] === 2) dest = util_1.pos2key([0, destPos[1]]);\n  }\n\n  var rook = state.pieces.get(dest);\n  if (!rook || rook.color !== king.color || rook.role !== 'rook') return false;\n  state.pieces.delete(orig);\n  state.pieces.delete(dest);\n\n  if (origPos[0] < destPos[0]) {\n    state.pieces.set(util_1.pos2key([6, destPos[1]]), king);\n    state.pieces.set(util_1.pos2key([5, destPos[1]]), rook);\n  } else {\n    state.pieces.set(util_1.pos2key([2, destPos[1]]), king);\n    state.pieces.set(util_1.pos2key([3, destPos[1]]), rook);\n  }\n\n  return true;\n}\n\nfunction baseMove(state, orig, dest) {\n  var origPiece = state.pieces.get(orig),\n      destPiece = state.pieces.get(dest);\n  if (orig === dest || !origPiece) return false;\n  var captured = destPiece && destPiece.color !== origPiece.color ? destPiece : undefined;\n  if (dest === state.selected) unselect(state);\n  callUserFunction(state.events.move, orig, dest, captured);\n\n  if (!tryAutoCastle(state, orig, dest)) {\n    state.pieces.set(dest, origPiece);\n    state.pieces.delete(orig);\n  }\n\n  state.lastMove = [orig, dest];\n  state.check = undefined;\n  callUserFunction(state.events.change);\n  return captured || true;\n}\n\nexports.baseMove = baseMove;\n\nfunction baseNewPiece(state, piece, key, force) {\n  if (state.pieces.has(key)) {\n    if (force) state.pieces.delete(key);else return false;\n  }\n\n  callUserFunction(state.events.dropNewPiece, piece, key);\n  state.pieces.set(key, piece);\n  state.lastMove = [key];\n  state.check = undefined;\n  callUserFunction(state.events.change);\n  state.movable.dests = undefined;\n  state.turnColor = util_1.opposite(state.turnColor);\n  return true;\n}\n\nexports.baseNewPiece = baseNewPiece;\n\nfunction baseUserMove(state, orig, dest) {\n  var result = baseMove(state, orig, dest);\n\n  if (result) {\n    state.movable.dests = undefined;\n    state.turnColor = util_1.opposite(state.turnColor);\n    state.animation.current = undefined;\n  }\n\n  return result;\n}\n\nfunction userMove(state, orig, dest) {\n  if (canMove(state, orig, dest)) {\n    var result = baseUserMove(state, orig, dest);\n\n    if (result) {\n      var holdTime = state.hold.stop();\n      unselect(state);\n      var metadata = {\n        premove: false,\n        ctrlKey: state.stats.ctrlKey,\n        holdTime: holdTime\n      };\n      if (result !== true) metadata.captured = result;\n      callUserFunction(state.movable.events.after, orig, dest, metadata);\n      return true;\n    }\n  } else if (canPremove(state, orig, dest)) {\n    setPremove(state, orig, dest, {\n      ctrlKey: state.stats.ctrlKey\n    });\n    unselect(state);\n    return true;\n  }\n\n  unselect(state);\n  return false;\n}\n\nexports.userMove = userMove;\n\nfunction dropNewPiece(state, orig, dest, force) {\n  var piece = state.pieces.get(orig);\n\n  if (piece && (canDrop(state, orig, dest) || force)) {\n    state.pieces.delete(orig);\n    baseNewPiece(state, piece, dest, force);\n    callUserFunction(state.movable.events.afterNewPiece, piece.role, dest, {\n      predrop: false\n    });\n  } else if (piece && canPredrop(state, orig, dest)) {\n    setPredrop(state, piece.role, dest);\n  } else {\n    unsetPremove(state);\n    unsetPredrop(state);\n  }\n\n  state.pieces.delete(orig);\n  unselect(state);\n}\n\nexports.dropNewPiece = dropNewPiece;\n\nfunction selectSquare(state, key, force) {\n  callUserFunction(state.events.select, key);\n\n  if (state.selected) {\n    if (state.selected === key && !state.draggable.enabled) {\n      unselect(state);\n      state.hold.cancel();\n      return;\n    } else if ((state.selectable.enabled || force) && state.selected !== key) {\n      if (userMove(state, state.selected, key)) {\n        state.stats.dragged = false;\n        return;\n      }\n    }\n  }\n\n  if (isMovable(state, key) || isPremovable(state, key)) {\n    setSelected(state, key);\n    state.hold.start();\n  }\n}\n\nexports.selectSquare = selectSquare;\n\nfunction setSelected(state, key) {\n  state.selected = key;\n\n  if (isPremovable(state, key)) {\n    state.premovable.dests = premove_1.premove(state.pieces, key, state.premovable.castle);\n  } else state.premovable.dests = undefined;\n}\n\nexports.setSelected = setSelected;\n\nfunction unselect(state) {\n  state.selected = undefined;\n  state.premovable.dests = undefined;\n  state.hold.cancel();\n}\n\nexports.unselect = unselect;\n\nfunction isMovable(state, orig) {\n  var piece = state.pieces.get(orig);\n  return !!piece && (state.movable.color === 'both' || state.movable.color === piece.color && state.turnColor === piece.color);\n}\n\nfunction canMove(state, orig, dest) {\n  var _a, _b;\n\n  return orig !== dest && isMovable(state, orig) && (state.movable.free || !!((_b = (_a = state.movable.dests) === null || _a === void 0 ? void 0 : _a.get(orig)) === null || _b === void 0 ? void 0 : _b.includes(dest)));\n}\n\nexports.canMove = canMove;\n\nfunction canDrop(state, orig, dest) {\n  var piece = state.pieces.get(orig);\n  return !!piece && (orig === dest || !state.pieces.has(dest)) && (state.movable.color === 'both' || state.movable.color === piece.color && state.turnColor === piece.color);\n}\n\nfunction isPremovable(state, orig) {\n  var piece = state.pieces.get(orig);\n  return !!piece && state.premovable.enabled && state.movable.color === piece.color && state.turnColor !== piece.color;\n}\n\nfunction canPremove(state, orig, dest) {\n  return orig !== dest && isPremovable(state, orig) && premove_1.premove(state.pieces, orig, state.premovable.castle).includes(dest);\n}\n\nfunction canPredrop(state, orig, dest) {\n  var piece = state.pieces.get(orig);\n  var destPiece = state.pieces.get(dest);\n  return !!piece && (!destPiece || destPiece.color !== state.movable.color) && state.predroppable.enabled && (piece.role !== 'pawn' || dest[1] !== '1' && dest[1] !== '8') && state.movable.color === piece.color && state.turnColor !== piece.color;\n}\n\nfunction isDraggable(state, orig) {\n  var piece = state.pieces.get(orig);\n  return !!piece && state.draggable.enabled && (state.movable.color === 'both' || state.movable.color === piece.color && (state.turnColor === piece.color || state.premovable.enabled));\n}\n\nexports.isDraggable = isDraggable;\n\nfunction playPremove(state) {\n  var move = state.premovable.current;\n  if (!move) return false;\n  var orig = move[0],\n      dest = move[1];\n  var success = false;\n\n  if (canMove(state, orig, dest)) {\n    var result = baseUserMove(state, orig, dest);\n\n    if (result) {\n      var metadata = {\n        premove: true\n      };\n      if (result !== true) metadata.captured = result;\n      callUserFunction(state.movable.events.after, orig, dest, metadata);\n      success = true;\n    }\n  }\n\n  unsetPremove(state);\n  return success;\n}\n\nexports.playPremove = playPremove;\n\nfunction playPredrop(state, validate) {\n  var drop = state.predroppable.current;\n  var success = false;\n  if (!drop) return false;\n\n  if (validate(drop)) {\n    var piece = {\n      role: drop.role,\n      color: state.movable.color\n    };\n\n    if (baseNewPiece(state, piece, drop.key)) {\n      callUserFunction(state.movable.events.afterNewPiece, drop.role, drop.key, {\n        predrop: true\n      });\n      success = true;\n    }\n  }\n\n  unsetPredrop(state);\n  return success;\n}\n\nexports.playPredrop = playPredrop;\n\nfunction cancelMove(state) {\n  unsetPremove(state);\n  unsetPredrop(state);\n  unselect(state);\n}\n\nexports.cancelMove = cancelMove;\n\nfunction stop(state) {\n  state.movable.color = state.movable.dests = state.animation.current = undefined;\n  cancelMove(state);\n}\n\nexports.stop = stop;\n\nfunction getKeyAtDomPos(pos, asWhite, bounds) {\n  var file = Math.floor(8 * (pos[0] - bounds.left) / bounds.width);\n  if (!asWhite) file = 7 - file;\n  var rank = 7 - Math.floor(8 * (pos[1] - bounds.top) / bounds.height);\n  if (!asWhite) rank = 7 - rank;\n  return file >= 0 && file < 8 && rank >= 0 && rank < 8 ? util_1.pos2key([file, rank]) : undefined;\n}\n\nexports.getKeyAtDomPos = getKeyAtDomPos;\n\nfunction getSnappedKeyAtDomPos(orig, pos, asWhite, bounds) {\n  var origPos = util_1.key2pos(orig);\n  var validSnapPos = util_1.allPos.filter(function (pos2) {\n    return premove_1.queen(origPos[0], origPos[1], pos2[0], pos2[1]) || premove_1.knight(origPos[0], origPos[1], pos2[0], pos2[1]);\n  });\n  var validSnapCenters = validSnapPos.map(function (pos2) {\n    return drag_1.computeSquareCenter(util_1.pos2key(pos2), asWhite, bounds);\n  });\n  var validSnapDistances = validSnapCenters.map(function (pos2) {\n    return util_1.distanceSq(pos, pos2);\n  });\n\n  var _validSnapDistances$r = validSnapDistances.reduce(function (a, b, index) {\n    return a[0] < b ? a : [b, index];\n  }, [validSnapDistances[0], 0]),\n      _validSnapDistances$r2 = _slicedToArray(_validSnapDistances$r, 2),\n      closestSnapIndex = _validSnapDistances$r2[1];\n\n  return util_1.pos2key(validSnapPos[closestSnapIndex]);\n}\n\nexports.getSnappedKeyAtDomPos = getSnappedKeyAtDomPos;\n\nfunction whitePov(s) {\n  return s.orientation === 'white';\n}\n\nexports.whitePov = whitePov;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;"],"sourceRoot":""}