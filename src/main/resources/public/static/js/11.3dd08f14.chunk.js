(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{120:function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=function(e){var t=e.label,a=e.control,n=void 0===a?s.a.createElement("input",{className:"input",type:"text"}):a;return s.a.createElement("div",{className:"field"},t&&s.a.createElement("label",{className:"label"},t),s.a.createElement("div",{className:"control"},s.a.cloneElement(n)))}},121:function(e,t,a){"use strict";var n=a(15),s=a(96),r=a.n(s),i=a(18),l=a(3),o=a(33),c=a(17),u=r.a.struct({email:r.a.String,password:r.a.String},"LoginRequest"),m=r.a.struct({token:r.a.String},"LoginResponse"),d=r.a.struct({email:r.a.String,password:r.a.String,username:r.a.String}),p=r.a.struct({token:r.a.String,user:r.a.Object});t.a={login:function(e){var t=e.email,a=e.password,s=e.handleInvalidCredentials,r=u({email:t,password:a});n.a.post("/login",r).then(function(e){if(401===e.status||403===e.status)s();else{if(200!==e.status)throw e;var t=m(e.data);o.a.dispatch(Object(c.b)(t.token)),i.a.getHistory().push(l.a)}})},signUp:function(e){var t=e.email,a=e.password,s=e.username,r=e.handleError,u=d({email:t,password:a,username:s});n.a.post("/user/signup",u).then(function(e){if(console.log(e.status),200===e.status||201===e.status){var t=p(e.data);o.a.dispatch(Object(c.b)(t.token)),i.a.getHistory().push(l.a)}else r()}).catch(function(e){r()})}}},197:function(e,t,a){"use strict";a.r(t);var n=a(32),s=a(26),r=a(27),i=a(29),l=a(28),o=a(30),c=a(0),u=a.n(c),m=a(120),d=a(121),p={email:"",password:"",errors:!1},h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(n.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),d.a.login({email:a.state.email,password:a.state.password,handleInvalidCredentials:a.setErrors(!0)})},a.setErrors=function(e){return function(){return a.setState({errors:e})}},a.state=p,a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.handleSubmit,style:{maxWidth:"500px",margin:"auto"}},u.a.createElement(m.a,{label:"Email",control:u.a.createElement("input",{name:"email",className:"input",type:"email",required:!0,onChange:this.handleChange,value:this.state.email})}),u.a.createElement(m.a,{label:"Password",control:u.a.createElement("input",{name:"password",className:"input",type:"password",required:!0,onChange:this.handleChange,value:this.state.password})}),u.a.createElement(m.a,{control:u.a.createElement("button",{className:"button is-link",type:"submit"},"Valider")}),this.state.errors&&u.a.createElement("div",{className:"notification is-danger is-light"},"Identifiant ou mot de passe invalide"))}}]),t}(c.Component);t.default=h}}]);
//# sourceMappingURL=11.3dd08f14.chunk.js.map