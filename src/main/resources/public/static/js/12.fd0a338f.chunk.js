(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{120:function(e,a,t){"use strict";var n=t(0),s=t.n(n);a.a=function(e){var a=e.label,t=e.control,n=void 0===t?s.a.createElement("input",{className:"input",type:"text"}):t;return s.a.createElement("div",{className:"field"},a&&s.a.createElement("label",{className:"label"},a),s.a.createElement("div",{className:"control"},s.a.cloneElement(n)))}},121:function(e,a,t){"use strict";var n=t(15),s=t(96),r=t.n(s),i=t(18),o=t(3),l=t(33),u=t(17),c=r.a.struct({email:r.a.String,password:r.a.String},"LoginRequest"),m=r.a.struct({token:r.a.String},"LoginResponse"),d=r.a.struct({email:r.a.String,password:r.a.String,username:r.a.String}),p=r.a.struct({token:r.a.String,user:r.a.Object});a.a={login:function(e){var a=e.email,t=e.password,s=e.handleInvalidCredentials,r=c({email:a,password:t});n.a.post("/login",r).then(function(e){if(401===e.status||403===e.status)s();else{if(200!==e.status)throw e;var a=m(e.data);l.a.dispatch(Object(u.b)(a.token)),i.a.getHistory().push(o.a)}})},signUp:function(e){var a=e.email,t=e.password,s=e.username,r=e.handleError,c=d({email:a,password:t,username:s});n.a.post("/user/signup",c).then(function(e){if(console.log(e.status),200===e.status||201===e.status){var a=p(e.data);l.a.dispatch(Object(u.b)(a.token)),i.a.getHistory().push(o.a)}else r()}).catch(function(e){r()})}}},198:function(e,a,t){"use strict";t.r(a);var n=t(32),s=t(26),r=t(27),i=t(29),o=t(28),l=t(30),u=t(0),c=t.n(u),m=t(120),d=(t(15),t(121)),p={email:"",password:"",username:"",confirmPassword:"",errors:!1},h=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name;t.setState(Object(n.a)({},a,e.target.value))},t.setErrors=function(e){return function(){return t.setState({errors:e})}},t.handleSubmit=function(e){e.preventDefault(),t.state.password!==t.state.confirmPassword?t.setErrors(!0)():d.a.signUp({email:t.state.email,password:t.state.password,username:t.state.username,handleError:t.setErrors(!0)})},t.state=p,t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.handleSubmit,style:{maxWidth:"500px",margin:"auto"}},c.a.createElement(m.a,{label:"Email",control:c.a.createElement("input",{name:"email",className:"input",type:"email",required:!0,onChange:this.handleChange,value:this.state.email})}),c.a.createElement(m.a,{label:"Username",control:c.a.createElement("input",{name:"username",className:"input",type:"text",required:!0,onChange:this.handleChange,value:this.state.username})}),c.a.createElement(m.a,{label:"Password",control:c.a.createElement("input",{name:"password",className:"input",type:"password",required:!0,onChange:this.handleChange,value:this.state.password})}),c.a.createElement(m.a,{label:"Confirm Password",control:c.a.createElement("input",{name:"confirmPassword",className:"input",type:"password",required:!0,onChange:this.handleChange,value:this.state.confirmPassword})}),c.a.createElement(m.a,{control:c.a.createElement("button",{className:"button is-link",type:"submit"},"Valider")}),this.state.errors&&c.a.createElement("div",{className:"notification is-danger is-light"},"Erreur"))}}]),a}(c.a.Component);a.default=h}}]);
//# sourceMappingURL=12.fd0a338f.chunk.js.map