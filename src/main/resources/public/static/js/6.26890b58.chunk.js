(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{105:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return s});var n=a(96),r=a.n(n),o=r.a.struct({whiteName:r.a.String,blackName:r.a.String,id:r.a.Number}),s=r.a.struct({name:r.a.String,id:r.a.Number,gameHeaders:r.a.list(o)})},110:function(t,e,a){"use strict";a.d(e,"a",function(){return u}),a.d(e,"b",function(){return d});var n=a(26),r=a(29),o=a(28),s=a(30),i=a(0),c=a(16),u=function(t){function e(){var t,a;Object(n.a)(this,e);for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];return(a=Object(r.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(i)))).close=function(){!function(){var t=document.getElementById(l);t&&(Object(c.unmountComponentAtNode)(t),t.parentNode.removeChild(t))}()},a}return Object(s.a)(e,t),e}(i.Component),l="modal-window";function d(t){!function(t){var e=document.getElementById(l);e||((e=document.createElement("div")).id=l,document.body.appendChild(e)),Object(c.render)(t,e)}(t)}},111:function(t,e,a){},120:function(t,e,a){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=a(15),o=a(96),s=a.n(o),i=a(94),c=a(105),u=s.a.struct({name:s.a.String},"PostDatabaseRequest");e.a={listDatabases:function(){return r.a.get("/database").then(function(t){if(200===t.status)return t.data;throw t}).then(function(t){return console.log(t),t}).catch(function(t){console.error(t)})},postDatabase:function(t){var e=t.name,a=u({name:e});return r.a.post("/database",a).then(function(t){if(200===t.status||201===t.status)return console.log(t.data),t.data;throw t}).catch(function(t){console.error(t)})},getDetails:function(t){return r.a.get("/database/"+t).then(function(t){if(200===t.status){var e=Object(c.a)(t.data);return console.log(e),e}throw t}).catch(function(t){console.error(t)})},createGame:function(t){var e=new i.a;return r.a.post("/database/"+t+"/game",e).then(function(t){if(200===t.status||201===t.status)return Object(c.b)({whiteName:t.data.whiteName,blackName:t.data.blackName,id:t.data.id});throw t}).catch(function(t){console.error(t)})},deleteDatabase:function(t){return r.a.delete("/database/"+t).then(function(t){if(200===t.status)return!0;throw t}).catch(function(t){console.error(t)})},importPgn:function(t,e){var a=new FormData;return a.append("pgnFile",e,e.name),r.a.post("/database/"+t+"/uploadPgn",a).then(function(t){if(200!==t.status&&201!==t.status)throw t;return c.b.apply(void 0,n(t.data))})}}},198:function(t,e,a){"use strict";a.r(e);var n=a(26),r=a(27),o=a(29),s=a(28),i=a(30),c=a(43),u=a(0),l=a.n(u),d=(a(111),a(120)),m=a(110),f=a(11),b=a.n(f),h=function(t){function e(){var t,a;Object(n.a)(this,e);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).handleCancel=function(){a.props.onCancel(),a.close()},a.handleConfirm=function(){a.props.onConfirm(),a.close()},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"modal is-active"},l.a.createElement("div",{className:"modal-background",onClick:this.handleCancel}),l.a.createElement("div",{className:"modal-card"},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("p",{className:"modal-card-title"},this.props.title)),l.a.createElement("section",{className:"modal-card-body"},l.a.createElement("p",null,this.props.message)),l.a.createElement("footer",{className:"modal-card-foot space-between"},l.a.createElement("button",{className:"button",onClick:this.handleCancel},this.props.cancelButtonText),l.a.createElement("button",{className:"button "+this.props.confirmButtonClass,onClick:this.handleConfirm},this.props.confirmButtonText))))}}]),e}(m.a);h.propTypes={title:b.a.string,message:b.a.string,onConfirm:b.a.func,onCancel:b.a.func,confirmButtonText:b.a.string,cancelButtonText:b.a.string,confirmButtonClass:b.a.string},h.defaultProps={title:"Confirmation",message:"\xcates-vous s\xfbr ?",onConfirm:function(){return null},onCancel:function(){return null},confirmButtonText:"Valider",cancelButtonText:"Annuler",confirmButtonClass:"is-success"};var p=function(t){return l.a.createElement("tr",{onClick:t.onClick},l.a.createElement("td",null,t.database.name),l.a.createElement("td",null,t.database.gameHeaders.length),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-danger",onClick:function(e){e.stopPropagation(),function(t){Object(m.b)(l.a.createElement(h,t))}({title:"Suppression de la base "+t.database.name,message:"\xcates vous s\xfbr de vouloir supprimer la base "+t.database.name,confirmButtonText:"Supprimer",confirmButtonClass:"is-danger",onConfirm:function(){var e=t.database.id;d.a.deleteDatabase(e).then(function(a){a&&t.onDelete(e)})}})}},"Supprimer")))},v=function(t){var e=Object(u.useState)(""),a=Object(c.a)(e,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",placeholder:"Cr\xe9er une base",value:n,onChange:function(t){return r(t.target.value)}})),l.a.createElement("div",{className:"control"},l.a.createElement("span",{className:"button is-success",onClick:function(){0!==n.length&&d.a.postDatabase({name:n}).then(function(e){t.onDatabaseCreated(e)})},disabled:0===n.length},"Valider")))},g=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).onDatabaseCreated=function(t){var e=a.state.databases;e.push(t),a.setState({databases:e})},a.onDatabaseDeleted=function(t){var e=a.state.databases;e=e.filter(function(e){return e.id!==t}),a.setState({databases:e})},a.state={databases:[],loading:!1},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),d.a.listDatabases().then(function(e){t.setState({databases:e})})}},{key:"render",value:function(){var t=this;return l.a.createElement("div",null,l.a.createElement(v,{onDatabaseCreated:this.onDatabaseCreated}),l.a.createElement("table",{className:"databases table is-striped is-hoverable is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Nom"),l.a.createElement("th",null,"Nombre de parties"),l.a.createElement("th",null,"Types"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.databases&&this.state.databases.map(function(e){return l.a.createElement(p,{database:e,key:e.id,onDelete:t.onDatabaseDeleted,onClick:function(){return t.props.history.push("/database/"+e.id)}})}))))}}]),e}(u.Component);e.default=g},87:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return r});var n="w",r="b"},93:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=a(26),r=a(27),o=a(87),s=function(){function t(e,a,r){Object(n.a)(this,t),this.fen=e,this.lastMove=a,this.previousPosition=r,this.nextPosition=null,this.comment="",this.sublines=[],this.previousPosition?"w"===this.lastMove.color?this.moveNumber=this.previousPosition.moveNumber+1:this.moveNumber=this.previousPosition.moveNumber:this.moveNumber=0}return Object(r.a)(t,[{key:"sideToMove",value:function(){return this.lastMove&&this.lastMove.color!==o.a?o.a:o.b}},{key:"addNextPosition",value:function(t){this.nextPosition?this.nextPosition.fen!==t.fen&&(this.sublines.find(function(e){return e.fen===t.fen})||this.sublines.push(t)):this.nextPosition=t}}]),t}()},94:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a(26),r=a(93),o=function t(){Object(n.a)(this,t),this.positions=[],this.startingPosition=new r.a("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),this.whiteName="white",this.blackName="black"}}}]);
//# sourceMappingURL=6.26890b58.chunk.js.map